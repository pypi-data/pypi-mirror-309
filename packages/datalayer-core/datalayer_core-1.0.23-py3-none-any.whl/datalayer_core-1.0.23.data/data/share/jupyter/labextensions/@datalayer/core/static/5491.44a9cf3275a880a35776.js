"use strict";(self.webpackChunk_datalayer_core=self.webpackChunk_datalayer_core||[]).push([[5491],{25491:(e,s,t)=>{t.r(s),t.d(s,{ExercisePublic:()=>p,default:()=>f});var n=t(74512),i=t(66029),r=t(99608),a=t(40809),l=t(23189),o=t(90180),c=t(55745),u=t(7749),d=t(78032),x=t(19409),h=t(69058);const p=()=>{const{exerciseId:e}=(0,r.UO)();if(!e)return(0,n.jsx)(n.Fragment,{});const s=(0,h.qX)(),t=(0,c.gQ)(),p=s.iam().user,{kernelManager:f,defaultKernel:g}=(0,o.useJupyter)(),{refreshExercise:j,getExercise:m,cloneExercise:y}=(0,x.YT)(),B=(0,x.s0)(),v=(0,a.useConfirm)(),{enqueueToast:b}=(0,x.pm)(),[k]=(0,i.useState)("exercise-student"),[T,E]=(0,i.useState)(!1),[C,S]=(0,i.useState)(),[$,P]=(0,i.useState)((0,o.newUuid)()),[w,_]=(0,i.useState)(!1),V=t.getInput(k),I=(0,i.useMemo)((()=>g),[f]),R=t.getGradeSuccess(k);(0,i.useEffect)((()=>{R&&(_(R),setTimeout((()=>{_(!1)}),5e3))}),[R]),(0,i.useEffect)((()=>{j(e).then((s=>{if(s.success){const s=m(e);s||B("/"),S(s)}}))}),[]);const z=(0,i.useCallback)((async t=>{v({title:"Are you sure?",content:"Please confirm you want to clone this exercise in your private library."}).then((t=>{t&&y(e).then((e=>{e.success&&(b(e.message,{variant:"success"}),s.layout().triggerItemsRefresh(),B(`/${p.handle}/library/exercises`))}))}))}),[v,C]);return C?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Pagehead,{children:(0,n.jsxs)(a.Box,{display:"flex",children:[(0,n.jsx)(a.Box,{flex:1,children:(0,n.jsx)(a.Heading,{sx:{fontSize:3},children:"Exercise"})}),(0,n.jsx)(a.Box,{children:(0,n.jsxs)(a.ButtonGroup,{children:[p&&C&&(0,n.jsx)(a.Button,{variant:"default",size:"small",onClick:()=>B(`/${C.organization?.handle??C.owner?.handle}/${C.space?.handle}/exercise/${C.id}`),children:"Edit"}),p&&C&&(0,n.jsx)(a.Button,{variant:"default",size:"small",leadingVisual:l.jcu,onClick:z,children:"Clone"})]})})]})}),(0,n.jsxs)(a.Box,{children:[(0,n.jsx)(a.Text,{children:C.name}),(0,n.jsx)(a.Text,{as:"p",color:"fg.muted",bg:"neutral.muted",p:2,children:C.description})]}),(0,n.jsx)(a.Box,{children:(0,n.jsx)(u.r,{showEditor:!0,autoRun:!1,disableRun:!1,kernel:I,id:k,codePre:C.codePre,code:C.codeQuestion,receipt:$})}),(0,n.jsxs)(a.Box,{display:"flex",gridGap:3,pt:2,pb:2,children:[(0,n.jsx)(a.Box,{children:(0,n.jsx)(a.Button,{variant:"danger",leadingVisual:l.UOT,onClick:e=>{e.preventDefault(),E(!T)},children:"Show help"})}),(0,n.jsx)(a.Box,{children:(0,n.jsx)(a.Button,{variant:"default",leadingVisual:l.bnu,onClick:e=>{e.preventDefault(),t.setInput(k,C.codeQuestion)},children:"Reset"})})]}),T&&(0,n.jsx)(a.Text,{as:"p",color:"danger.fg",p:2,children:C.help??"No help available."}),(0,n.jsxs)(a.Box,{children:[(0,n.jsx)(a.Button,{variant:"default",leadingVisual:l.Zi2,sx:{marginTop:2,marginBottom:2},onClick:e=>{e.preventDefault(),t.setExecuteRequest(k,`\nsetup_state(stu_code = """${C.codePre}\n${V}""", sol_code = """${C.codePre}\n${C.codeSolution}""")\n${C.codeTest}\nfrom IPython.core.display import HTML\nHTML('<div style="display: none">You have passed the exercise! Your receipt is ${$}</div><h1>ðŸŽ‰ Success!</h1>')\n`)},children:"Validate your solution"}),(0,n.jsx)(a.Text,{as:"p",color:"fg.onEmphasis",bg:"neutral.emphasis",p:2,children:"Validate your solution with this button."})]}),w&&(0,n.jsx)(d.xP,{})]}):(0,n.jsx)(n.Fragment,{})},f=p}}]);