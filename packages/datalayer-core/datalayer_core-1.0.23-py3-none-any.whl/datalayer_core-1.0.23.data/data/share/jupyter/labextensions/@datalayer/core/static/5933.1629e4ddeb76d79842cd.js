"use strict";(self.webpackChunk_datalayer_core=self.webpackChunk_datalayer_core||[]).push([[5933],{15933:(e,s,t)=>{t.r(s),t.d(s,{ExerciseTake:()=>p,default:()=>f});var n=t(74512),a=t(66029),i=t(99608),r=t(40809),l=t(23189),o=t(90180),c=t(55745),u=t(7749),d=t(78032),x=t(19409),h=t(69058);const p=()=>{const{accountHandle:e,spaceHandle:s,exerciseId:t}=(0,i.UO)();if(!t)return(0,n.jsx)(n.Fragment,{});const p=(0,h.qX)(),f=(0,c.gQ)(),g=(0,x.aF)(),{kernelManager:j,defaultKernel:m}=(0,o.useJupyter)(),y=(p.layout().organization,p.layout().space),{refreshExercise:B,getExercise:v,cloneExercise:k}=(0,x.YT)(),T=(0,x.s0)(),b=(0,r.useConfirm)(),{enqueueToast:E}=(0,x.pm)(),[C]=(0,a.useState)("exercise-student"),[S,$]=(0,a.useState)(!1),[P,w]=(0,a.useState)(),[_,R]=(0,a.useState)((0,o.newUuid)()),[V,H]=(0,a.useState)(!1),q=f.getInput(C),z=(0,a.useMemo)((()=>m),[j]),F=f.getGradeSuccess(C);(0,a.useEffect)((()=>{F&&(H(F),setTimeout((()=>{H(!1)}),5e3))}),[F]),(0,a.useEffect)((()=>{B(t).then((e=>{if(e.success){const e=v(t);e||T("/"),w(e)}}))}),[]);const I=(0,a.useCallback)((async e=>{b({title:"Are you sure?",content:"Please confirm you want to clone this exercise in your private library."}).then((e=>{e&&k(t).then((e=>{e.success&&(E(e.message,{variant:"success"}),p.layout().triggerItemsRefresh(),T(`/${g.handle}/library/exercises`))}))}))}),[b,P]);return P?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Pagehead,{children:(0,n.jsxs)(r.Box,{display:"flex",children:[(0,n.jsx)(r.Box,{flex:1,children:(0,n.jsx)(r.Heading,{sx:{fontSize:3},children:"Exercise"})}),(0,n.jsx)(r.Box,{children:(0,n.jsxs)(r.ButtonGroup,{children:[g&&P&&e&&s&&(0,n.jsx)(r.Button,{variant:"default",size:"small",onClick:()=>T(`/${e}/${s}/exercise/${P.id}`),children:"Edit"}),g&&P&&y&&(0,n.jsx)(r.Button,{variant:"default",size:"small",leadingVisual:l.jcu,onClick:I,children:"Clone"})]})})]})}),(0,n.jsxs)(r.Box,{children:[(0,n.jsx)(r.Text,{children:P.name}),(0,n.jsx)(r.Text,{as:"p",color:"fg.muted",bg:"neutral.muted",p:2,children:P.description})]}),(0,n.jsx)(r.Box,{children:(0,n.jsx)(u.r,{showEditor:!0,autoRun:!1,disableRun:!1,kernel:z,id:C,codePre:P.codePre,code:P.codeQuestion,receipt:_})}),(0,n.jsxs)(r.Box,{display:"flex",gridGap:3,pt:2,pb:2,children:[(0,n.jsx)(r.Box,{children:(0,n.jsx)(r.Button,{variant:"danger",leadingVisual:l.UOT,onClick:e=>{e.preventDefault(),$(!S)},children:"Show help"})}),(0,n.jsx)(r.Box,{children:(0,n.jsx)(r.Button,{variant:"default",leadingVisual:l.bnu,onClick:e=>{e.preventDefault(),f.setExecuteRequest(C,P.codeQuestion)},children:"Reset"})})]}),S&&(0,n.jsx)(r.Text,{as:"p",color:"danger.fg",p:2,children:P.help??"No help available."}),(0,n.jsxs)(r.Box,{children:[(0,n.jsx)(r.Button,{variant:"default",leadingVisual:l.Zi2,sx:{marginTop:2,marginBottom:2},onClick:e=>{e.preventDefault(),f.setExecuteRequest(C,`\nsetup_state(stu_code = """${P.codePre}\n${q}""", sol_code = """${P.codePre}\n${P.codeSolution}""")\n${P.codeTest}\nfrom IPython.core.display import HTML\nHTML('<div style="display: none">You have passed the exercise! Your receipt is ${_}</div><h1>ðŸŽ‰ Success!</h1>')\n`)},children:"Validate your solution"}),(0,n.jsx)(r.Text,{as:"p",color:"fg.onEmphasis",bg:"neutral.emphasis",p:2,children:"Validate your solution with this button."})]}),V&&(0,n.jsx)(d.xP,{})]}):(0,n.jsx)(n.Fragment,{})},f=p}}]);