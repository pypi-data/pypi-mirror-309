"use strict";(self.webpackChunk_datalayer_core=self.webpackChunk_datalayer_core||[]).push([[2148],{52148:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var n=a(57355),o=a(83243),l=a(71204),s=a(2245),r=a(43043),i=a(35909),c=a(18168);const d="@jupyterlab/translation-extension:plugin",u={id:"@jupyterlab/translation:translator",description:"Provides the application translation object.",autoStart:!0,requires:[n.T.IPaths,i.O],optional:[o.r],provides:c.gv,activate:async(e,t,a,n)=>{const o=await a.load(d),s=o.get("locale").composite;let r=o.get("stringsPrefix").composite;r=o.get("displayStringsPrefix").composite?r:"";const i=e.serviceManager.serverSettings,u=new c.KK(t.urls.translations,r,i);return await u.fetch(s),n&&(n.translator=u),l.Vq.translator=u,u}},g={id:d,description:"Adds translation commands and settings.",requires:[i.O,c.gv],optional:[r.O,s.WW],autoStart:!0,activate:(e,t,a,n,o)=>{const s=a.load("jupyterlab"),{commands:r}=e;let i;function u(e){i=e.get("locale").composite}t.load(d).then((t=>{var a;u(t),document.documentElement.lang="default"!==i?(null!=i?i:"").replace("_","-"):"en-US",t.changed.connect(u);const d=n?null===(a=n.settingsMenu.items.find((e=>{var t;return"submenu"===e.type&&"jp-mainmenu-settings-language"===(null===(t=e.submenu)||void 0===t?void 0:t.id)})))||void 0===a?void 0:a.submenu:null;let g;const p=e.serviceManager.serverSettings;(0,c.Uo)("","",{},p).then((e=>{for(const a in e.data){const n=e.data[a],c=n.displayName,u=n.nativeName,p=("default"===i?"en":i)===a,m=p?`${c}`:`${c} - ${u}`;g=`jupyterlab-translation:${a}`,r.addCommand(g,{label:m,caption:m,isEnabled:()=>!p,isVisible:()=>!0,isToggled:()=>p,execute:()=>(0,l.vC)({title:s.__("Change interface language?"),body:s.__("After changing the interface language to %1, you will need to reload JupyterLab to see the changes.",m),buttons:[l.Vq.cancelButton({label:s.__("Cancel")}),l.Vq.okButton({label:s.__("Change and reload")})]}).then((e=>{e.button.accept&&t.set("locale",a).then((()=>{window.location.reload()})).catch((e=>{console.error(e)}))}))}),d&&d.addItem({command:g,args:{}}),o&&o.addItem({category:s.__("Display Languages"),command:g})}})).catch((e=>{console.error(`Available locales errored!\n${e}`)}))})).catch((e=>{console.error(`The jupyterlab translation extension appears to be missing.\n${e}`)}))}},p=[u,g]}}]);