"use strict";(self.webpackChunk_datalayer_core=self.webpackChunk_datalayer_core||[]).push([[7753],{67753:(e,s,t)=>{t.r(s),t.d(s,{ExerciseTake:()=>v,default:()=>k});var n=t(4565),r=t(89456),a=t(17168),i=t(41237),l=t(36088),c=t(66578),o=t(83773),d=t(43429),u=t(52333),h=t(20398),x=t(34441),p=t(58114),f=t(3135),j=t(58783),g=t(36057),m=t(23835),y=t(80003),Z=t(4789);const v=()=>{const{accountHandle:e,spaceHandle:s,exerciseId:t}=(0,a.UO)();if(!t)return(0,n.jsx)(n.Fragment,{});const v=(0,Z.qX)(),k=(0,j.gQ)(),b=(0,y.aF)(),{kernelManager:E,defaultKernel:$}=(0,p.W$)(),S=(v.layout().organization,v.layout().space),{refreshExercise:C,getExercise:T,cloneExercise:P}=(0,y.YT)(),_=(0,y.s0)(),w=(0,i.N)(),{enqueueToast:R}=(0,y.pm)(),[V]=(0,r.useState)("exercise-student"),[I,q]=(0,r.useState)(!1),[z,F]=(0,r.useState)(),[H,M]=(0,r.useState)((0,f.ZI)()),[D,Q]=(0,r.useState)(!1),Y=k.getInput(V),G=(0,r.useMemo)((()=>$),[E]),L=k.getGradeSuccess(V);(0,r.useEffect)((()=>{L&&(Q(L),setTimeout((()=>{Q(!1)}),5e3))}),[L]),(0,r.useEffect)((()=>{C(t).then((e=>{if(e.success){const e=T(t);e||_("/"),F(e)}}))}),[]);const N=(0,r.useCallback)((async e=>{w({title:"Are you sure?",content:"Please confirm you want to clone this exercise in your private library."}).then((e=>{e&&P(t).then((e=>{e.success&&(R(e.message,{variant:"success"}),v.layout().triggerItemsRefresh(),_(`/${b.handle}/library/exercises`))}))}))}),[w,z]);return z?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Z,{children:(0,n.jsxs)(c.Z,{display:"flex",children:[(0,n.jsx)(c.Z,{flex:1,children:(0,n.jsx)(o.Z,{sx:{fontSize:3},children:"Exercise"})}),(0,n.jsx)(c.Z,{children:(0,n.jsxs)(d.Z,{children:[b&&z&&e&&s&&(0,n.jsx)(u.r,{variant:"default",size:"small",onClick:()=>_(`/${e}/${s}/exercise/${z.id}`),children:"Edit"}),b&&z&&S&&(0,n.jsx)(u.r,{variant:"default",size:"small",leadingVisual:x.jcu,onClick:N,children:"Clone"})]})})]})}),(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(h.Z,{children:z.name}),(0,n.jsx)(h.Z,{as:"p",color:"fg.muted",bg:"neutral.muted",p:2,children:z.description})]}),(0,n.jsx)(c.Z,{children:(0,n.jsx)(g.r,{showEditor:!0,autoRun:!1,disableRun:!1,kernel:G,id:V,codePre:z.codePre,code:z.codeQuestion,receipt:H})}),(0,n.jsxs)(c.Z,{display:"flex",gridGap:3,pt:2,pb:2,children:[(0,n.jsx)(c.Z,{children:(0,n.jsx)(u.r,{variant:"danger",leadingVisual:x.UOT,onClick:e=>{e.preventDefault(),q(!I)},children:"Show help"})}),(0,n.jsx)(c.Z,{children:(0,n.jsx)(u.r,{variant:"default",leadingVisual:x.bnu,onClick:e=>{e.preventDefault(),k.setExecuteRequest(V,z.codeQuestion)},children:"Reset"})})]}),I&&(0,n.jsx)(h.Z,{as:"p",color:"danger.fg",p:2,children:z.help??"No help available."}),(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(u.r,{variant:"default",leadingVisual:x.Zi2,sx:{marginTop:2,marginBottom:2},onClick:e=>{e.preventDefault(),k.setExecuteRequest(V,`\nsetup_state(stu_code = """${z.codePre}\n${Y}""", sol_code = """${z.codePre}\n${z.codeSolution}""")\n${z.codeTest}\nfrom IPython.core.display import HTML\nHTML('<div style="display: none">You have passed the exercise! Your receipt is ${H}</div><h1>ðŸŽ‰ Success!</h1>')\n`)},children:"Validate your solution"}),(0,n.jsx)(h.Z,{as:"p",color:"fg.onEmphasis",bg:"neutral.emphasis",p:2,children:"Validate your solution with this button."})]}),D&&(0,n.jsx)(m.xP,{})]}):(0,n.jsx)(n.Fragment,{})},k=v}}]);