"use strict";(self.webpackChunk_datalayer_core=self.webpackChunk_datalayer_core||[]).push([[8724],{78724:(e,t,s)=>{s.r(t),s.d(t,{default:()=>ii});var n=s(75497),r=s(62144),i=s(42768),o=s(36751),a=s(92691),l=s(80709),c=s(52980),u=s(89456);const h=function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof global)return global;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;try{return new Function("return this")()}catch(e){return{}}}();void 0===h.trustedTypes&&(h.trustedTypes={createPolicy:(e,t)=>t});const d={configurable:!1,enumerable:!1,writable:!1};void 0===h.FAST&&Reflect.defineProperty(h,"FAST",Object.assign({value:Object.create(null)},d));const g=h.FAST;if(void 0===g.getById){const e=Object.create(null);Reflect.defineProperty(g,"getById",Object.assign({value(t,s){let n=e[t];return void 0===n&&(n=s?e[t]=s():null),n}},d))}const f=Object.freeze([]);function p(){const e=new WeakMap;return function(t){let s=e.get(t);if(void 0===s){let n=Reflect.getPrototypeOf(t);for(;void 0===s&&null!==n;)s=e.get(n),n=Reflect.getPrototypeOf(n);s=void 0===s?[]:s.slice(0),e.set(t,s)}return s}}const m=h.FAST.getById(1,(()=>{const e=[],t=[];function s(){if(t.length)throw t.shift()}function n(e){try{e.call()}catch(e){t.push(e),setTimeout(s,0)}}function r(){let t=0;for(;t<e.length;)if(n(e[t]),t++,t>1024){for(let s=0,n=e.length-t;s<n;s++)e[s]=e[s+t];e.length-=t,t=0}e.length=0}return Object.freeze({enqueue:function(t){e.length<1&&h.requestAnimationFrame(r),e.push(t)},process:r})})),v=h.trustedTypes.createPolicy("fast-html",{createHTML:e=>e});let b=v;const y=`fast-${Math.random().toString(36).substring(2,8)}`,w=`${y}{`,C=`}${y}`,x=Object.freeze({supportsAdoptedStyleSheets:Array.isArray(document.adoptedStyleSheets)&&"replace"in CSSStyleSheet.prototype,setHTMLPolicy(e){if(b!==v)throw new Error("The HTML policy can only be set once.");b=e},createHTML:e=>b.createHTML(e),isMarker:e=>e&&8===e.nodeType&&e.data.startsWith(y),extractDirectiveIndexFromMarker:e=>parseInt(e.data.replace(`${y}:`,"")),createInterpolationPlaceholder:e=>`${w}${e}${C}`,createCustomAttributePlaceholder(e,t){return`${e}="${this.createInterpolationPlaceholder(t)}"`},createBlockPlaceholder:e=>`\x3c!--${y}:${e}--\x3e`,queueUpdate:m.enqueue,processUpdates:m.process,nextUpdate:()=>new Promise(m.enqueue),setAttribute(e,t,s){null==s?e.removeAttribute(t):e.setAttribute(t,s)},setBooleanAttribute(e,t,s){s?e.setAttribute(t,""):e.removeAttribute(t)},removeChildNodes(e){for(let t=e.firstChild;null!==t;t=e.firstChild)e.removeChild(t)},createTemplateWalker:e=>document.createTreeWalker(e,133,null,!1)});class F{constructor(e,t){this.sub1=void 0,this.sub2=void 0,this.spillover=void 0,this.source=e,this.sub1=t}has(e){return void 0===this.spillover?this.sub1===e||this.sub2===e:-1!==this.spillover.indexOf(e)}subscribe(e){const t=this.spillover;if(void 0===t){if(this.has(e))return;if(void 0===this.sub1)return void(this.sub1=e);if(void 0===this.sub2)return void(this.sub2=e);this.spillover=[this.sub1,this.sub2,e],this.sub1=void 0,this.sub2=void 0}else-1===t.indexOf(e)&&t.push(e)}unsubscribe(e){const t=this.spillover;if(void 0===t)this.sub1===e?this.sub1=void 0:this.sub2===e&&(this.sub2=void 0);else{const s=t.indexOf(e);-1!==s&&t.splice(s,1)}}notify(e){const t=this.spillover,s=this.source;if(void 0===t){const t=this.sub1,n=this.sub2;void 0!==t&&t.handleChange(s,e),void 0!==n&&n.handleChange(s,e)}else for(let n=0,r=t.length;n<r;++n)t[n].handleChange(s,e)}}class V{constructor(e){this.subscribers={},this.sourceSubscribers=null,this.source=e}notify(e){var t;const s=this.subscribers[e];void 0!==s&&s.notify(e),null===(t=this.sourceSubscribers)||void 0===t||t.notify(e)}subscribe(e,t){var s;if(t){let s=this.subscribers[t];void 0===s&&(this.subscribers[t]=s=new F(this.source)),s.subscribe(e)}else this.sourceSubscribers=null!==(s=this.sourceSubscribers)&&void 0!==s?s:new F(this.source),this.sourceSubscribers.subscribe(e)}unsubscribe(e,t){var s;if(t){const s=this.subscribers[t];void 0!==s&&s.unsubscribe(e)}else null===(s=this.sourceSubscribers)||void 0===s||s.unsubscribe(e)}}const S=g.getById(2,(()=>{const e=/(:|&&|\|\||if)/,t=new WeakMap,s=x.queueUpdate;let n,r=e=>{throw new Error("Must call enableArrayObservation before observing arrays.")};function i(e){let s=e.$fastController||t.get(e);return void 0===s&&(Array.isArray(e)?s=r(e):t.set(e,s=new V(e))),s}const o=p();class a{constructor(e){this.name=e,this.field=`_${e}`,this.callback=`${e}Changed`}getValue(e){return void 0!==n&&n.watch(e,this.name),e[this.field]}setValue(e,t){const s=this.field,n=e[s];if(n!==t){e[s]=t;const r=e[this.callback];"function"==typeof r&&r.call(e,n,t),i(e).notify(this.name)}}}class l extends F{constructor(e,t,s=!1){super(e,t),this.binding=e,this.isVolatileBinding=s,this.needsRefresh=!0,this.needsQueue=!0,this.first=this,this.last=null,this.propertySource=void 0,this.propertyName=void 0,this.notifier=void 0,this.next=void 0}observe(e,t){this.needsRefresh&&null!==this.last&&this.disconnect();const s=n;n=this.needsRefresh?this:void 0,this.needsRefresh=this.isVolatileBinding;const r=this.binding(e,t);return n=s,r}disconnect(){if(null!==this.last){let e=this.first;for(;void 0!==e;)e.notifier.unsubscribe(this,e.propertyName),e=e.next;this.last=null,this.needsRefresh=this.needsQueue=!0}}watch(e,t){const s=this.last,r=i(e),o=null===s?this.first:{};if(o.propertySource=e,o.propertyName=t,o.notifier=r,r.subscribe(this,t),null!==s){if(!this.needsRefresh){let t;n=void 0,t=s.propertySource[s.propertyName],n=this,e===t&&(this.needsRefresh=!0)}s.next=o}this.last=o}handleChange(){this.needsQueue&&(this.needsQueue=!1,s(this))}call(){null!==this.last&&(this.needsQueue=!0,this.notify(this))}records(){let e=this.first;return{next:()=>{const t=e;return void 0===t?{value:void 0,done:!0}:(e=e.next,{value:t,done:!1})},[Symbol.iterator]:function(){return this}}}}return Object.freeze({setArrayObserverFactory(e){r=e},getNotifier:i,track(e,t){void 0!==n&&n.watch(e,t)},trackVolatile(){void 0!==n&&(n.needsRefresh=!0)},notify(e,t){i(e).notify(t)},defineProperty(e,t){"string"==typeof t&&(t=new a(t)),o(e).push(t),Reflect.defineProperty(e,t.name,{enumerable:!0,get:function(){return t.getValue(this)},set:function(e){t.setValue(this,e)}})},getAccessors:o,binding(e,t,s=this.isVolatileBinding(e)){return new l(e,t,s)},isVolatileBinding:t=>e.test(t.toString())})}));function D(e,t){S.defineProperty(e,t)}const $=g.getById(3,(()=>{let e=null;return{get:()=>e,set(t){e=t}}}));class O{constructor(){this.index=0,this.length=0,this.parent=null,this.parentContext=null}get event(){return $.get()}get isEven(){return this.index%2==0}get isOdd(){return this.index%2!=0}get isFirst(){return 0===this.index}get isInMiddle(){return!this.isFirst&&!this.isLast}get isLast(){return this.index===this.length-1}static setEvent(e){$.set(e)}}S.defineProperty(O.prototype,"index"),S.defineProperty(O.prototype,"length");const T=Object.seal(new O);class k{constructor(){this.targets=new WeakSet}addStylesTo(e){this.targets.add(e)}removeStylesFrom(e){this.targets.delete(e)}isAttachedTo(e){return this.targets.has(e)}withBehaviors(...e){return this.behaviors=null===this.behaviors?e:this.behaviors.concat(e),this}}function I(e){return e.map((e=>e instanceof k?I(e.styles):[e])).reduce(((e,t)=>e.concat(t)),[])}function N(e){return e.map((e=>e instanceof k?e.behaviors:null)).reduce(((e,t)=>null===t?e:(null===e&&(e=[]),e.concat(t))),null)}k.create=(()=>{if(x.supportsAdoptedStyleSheets){const e=new Map;return t=>new P(t,e)}return e=>new M(e)})();const R=Symbol("prependToAdoptedStyleSheets");function A(e){const t=[],s=[];return e.forEach((e=>(e[R]?t:s).push(e))),{prepend:t,append:s}}let E=(e,t)=>{const{prepend:s,append:n}=A(t);e.adoptedStyleSheets=[...s,...e.adoptedStyleSheets,...n]},_=(e,t)=>{e.adoptedStyleSheets=e.adoptedStyleSheets.filter((e=>-1===t.indexOf(e)))};if(x.supportsAdoptedStyleSheets)try{document.adoptedStyleSheets.push(),document.adoptedStyleSheets.splice(),E=(e,t)=>{const{prepend:s,append:n}=A(t);e.adoptedStyleSheets.splice(0,0,...s),e.adoptedStyleSheets.push(...n)},_=(e,t)=>{for(const s of t){const t=e.adoptedStyleSheets.indexOf(s);-1!==t&&e.adoptedStyleSheets.splice(t,1)}}}catch(e){}class P extends k{constructor(e,t){super(),this.styles=e,this.styleSheetCache=t,this._styleSheets=void 0,this.behaviors=N(e)}get styleSheets(){if(void 0===this._styleSheets){const e=this.styles,t=this.styleSheetCache;this._styleSheets=I(e).map((e=>{if(e instanceof CSSStyleSheet)return e;let s=t.get(e);return void 0===s&&(s=new CSSStyleSheet,s.replaceSync(e),t.set(e,s)),s}))}return this._styleSheets}addStylesTo(e){E(e,this.styleSheets),super.addStylesTo(e)}removeStylesFrom(e){_(e,this.styleSheets),super.removeStylesFrom(e)}}let B=0;class M extends k{constructor(e){super(),this.styles=e,this.behaviors=null,this.behaviors=N(e),this.styleSheets=I(e),this.styleClass="fast-style-class-"+ ++B}addStylesTo(e){const t=this.styleSheets,s=this.styleClass;e=this.normalizeTarget(e);for(let n=0;n<t.length;n++){const r=document.createElement("style");r.innerHTML=t[n],r.className=s,e.append(r)}super.addStylesTo(e)}removeStylesFrom(e){const t=(e=this.normalizeTarget(e)).querySelectorAll(`.${this.styleClass}`);for(let s=0,n=t.length;s<n;++s)e.removeChild(t[s]);super.removeStylesFrom(e)}isAttachedTo(e){return super.isAttachedTo(this.normalizeTarget(e))}normalizeTarget(e){return e===document?document.body:e}}const j=Object.freeze({locate:p()}),L={toView:e=>e?"true":"false",fromView:e=>null!=e&&"false"!==e&&!1!==e&&0!==e};class H{constructor(e,t,s=t.toLowerCase(),n="reflect",r){this.guards=new Set,this.Owner=e,this.name=t,this.attribute=s,this.mode=n,this.converter=r,this.fieldName=`_${t}`,this.callbackName=`${t}Changed`,this.hasCallback=this.callbackName in e.prototype,"boolean"===n&&void 0===r&&(this.converter=L)}setValue(e,t){const s=e[this.fieldName],n=this.converter;void 0!==n&&(t=n.fromView(t)),s!==t&&(e[this.fieldName]=t,this.tryReflectToAttribute(e),this.hasCallback&&e[this.callbackName](s,t),e.$fastController.notify(this.name))}getValue(e){return S.track(e,this.name),e[this.fieldName]}onAttributeChangedCallback(e,t){this.guards.has(e)||(this.guards.add(e),this.setValue(e,t),this.guards.delete(e))}tryReflectToAttribute(e){const t=this.mode,s=this.guards;s.has(e)||"fromView"===t||x.queueUpdate((()=>{s.add(e);const n=e[this.fieldName];switch(t){case"reflect":const t=this.converter;x.setAttribute(e,this.attribute,void 0!==t?t.toView(n):n);break;case"boolean":x.setBooleanAttribute(e,this.attribute,n)}s.delete(e)}))}static collect(e,...t){const s=[];t.push(j.locate(e));for(let n=0,r=t.length;n<r;++n){const r=t[n];if(void 0!==r)for(let t=0,n=r.length;t<n;++t){const n=r[t];"string"==typeof n?s.push(new H(e,n)):s.push(new H(e,n.property,n.attribute,n.mode,n.converter))}}return s}}function z(e,t){let s;function n(e,t){arguments.length>1&&(s.property=t),j.locate(e.constructor).push(s)}return arguments.length>1?(s={},void n(e,t)):(s=void 0===e?{}:e,n)}const q={mode:"open"},W={},U=g.getById(4,(()=>{const e=new Map;return Object.freeze({register:t=>!e.has(t.type)&&(e.set(t.type,t),!0),getByType:t=>e.get(t)})}));class G{constructor(e,t=e.definition){"string"==typeof t&&(t={name:t}),this.type=e,this.name=t.name,this.template=t.template;const s=H.collect(e,t.attributes),n=new Array(s.length),r={},i={};for(let e=0,t=s.length;e<t;++e){const t=s[e];n[e]=t.attribute,r[t.name]=t,i[t.attribute]=t}this.attributes=s,this.observedAttributes=n,this.propertyLookup=r,this.attributeLookup=i,this.shadowOptions=void 0===t.shadowOptions?q:null===t.shadowOptions?void 0:Object.assign(Object.assign({},q),t.shadowOptions),this.elementOptions=void 0===t.elementOptions?W:Object.assign(Object.assign({},W),t.elementOptions),this.styles=void 0===t.styles?void 0:Array.isArray(t.styles)?k.create(t.styles):t.styles instanceof k?t.styles:k.create([t.styles])}get isDefined(){return!!U.getByType(this.type)}define(e=customElements){const t=this.type;if(U.register(this)){const e=this.attributes,s=t.prototype;for(let t=0,n=e.length;t<n;++t)S.defineProperty(s,e[t]);Reflect.defineProperty(t,"observedAttributes",{value:this.observedAttributes,enumerable:!0})}return e.get(this.name)||e.define(this.name,t,this.elementOptions),this}}function K(e,t,s,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i<3?r(o):i>3?r(t,s,o):r(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o}G.forType=U.getByType;const Q=new WeakMap,Z={bubbles:!0,composed:!0,cancelable:!0};function J(e){return e.shadowRoot||Q.get(e)||null}class X extends V{constructor(e,t){super(e),this.boundObservables=null,this.behaviors=null,this.needsInitialization=!0,this._template=null,this._styles=null,this._isConnected=!1,this.$fastController=this,this.view=null,this.element=e,this.definition=t;const s=t.shadowOptions;if(void 0!==s){const t=e.attachShadow(s);"closed"===s.mode&&Q.set(e,t)}const n=S.getAccessors(e);if(n.length>0){const t=this.boundObservables=Object.create(null);for(let s=0,r=n.length;s<r;++s){const r=n[s].name,i=e[r];void 0!==i&&(delete e[r],t[r]=i)}}}get isConnected(){return S.track(this,"isConnected"),this._isConnected}setIsConnected(e){this._isConnected=e,S.notify(this,"isConnected")}get template(){return this._template}set template(e){this._template!==e&&(this._template=e,this.needsInitialization||this.renderTemplate(e))}get styles(){return this._styles}set styles(e){this._styles!==e&&(null!==this._styles&&this.removeStyles(this._styles),this._styles=e,this.needsInitialization||null===e||this.addStyles(e))}addStyles(e){const t=J(this.element)||this.element.getRootNode();if(e instanceof HTMLStyleElement)t.append(e);else if(!e.isAttachedTo(t)){const s=e.behaviors;e.addStylesTo(t),null!==s&&this.addBehaviors(s)}}removeStyles(e){const t=J(this.element)||this.element.getRootNode();if(e instanceof HTMLStyleElement)t.removeChild(e);else if(e.isAttachedTo(t)){const s=e.behaviors;e.removeStylesFrom(t),null!==s&&this.removeBehaviors(s)}}addBehaviors(e){const t=this.behaviors||(this.behaviors=new Map),s=e.length,n=[];for(let r=0;r<s;++r){const s=e[r];t.has(s)?t.set(s,t.get(s)+1):(t.set(s,1),n.push(s))}if(this._isConnected){const e=this.element;for(let t=0;t<n.length;++t)n[t].bind(e,T)}}removeBehaviors(e,t=!1){const s=this.behaviors;if(null===s)return;const n=e.length,r=[];for(let i=0;i<n;++i){const n=e[i];if(s.has(n)){const e=s.get(n)-1;0===e||t?s.delete(n)&&r.push(n):s.set(n,e)}}if(this._isConnected){const e=this.element;for(let t=0;t<r.length;++t)r[t].unbind(e)}}onConnectedCallback(){if(this._isConnected)return;const e=this.element;this.needsInitialization?this.finishInitialization():null!==this.view&&this.view.bind(e,T);const t=this.behaviors;if(null!==t)for(const[s]of t)s.bind(e,T);this.setIsConnected(!0)}onDisconnectedCallback(){if(!this._isConnected)return;this.setIsConnected(!1);const e=this.view;null!==e&&e.unbind();const t=this.behaviors;if(null!==t){const e=this.element;for(const[s]of t)s.unbind(e)}}onAttributeChangedCallback(e,t,s){const n=this.definition.attributeLookup[e];void 0!==n&&n.onAttributeChangedCallback(this.element,s)}emit(e,t,s){return!!this._isConnected&&this.element.dispatchEvent(new CustomEvent(e,Object.assign(Object.assign({detail:t},Z),s)))}finishInitialization(){const e=this.element,t=this.boundObservables;if(null!==t){const s=Object.keys(t);for(let n=0,r=s.length;n<r;++n){const r=s[n];e[r]=t[r]}this.boundObservables=null}const s=this.definition;null===this._template&&(this.element.resolveTemplate?this._template=this.element.resolveTemplate():s.template&&(this._template=s.template||null)),null!==this._template&&this.renderTemplate(this._template),null===this._styles&&(this.element.resolveStyles?this._styles=this.element.resolveStyles():s.styles&&(this._styles=s.styles||null)),null!==this._styles&&this.addStyles(this._styles),this.needsInitialization=!1}renderTemplate(e){const t=this.element,s=J(t)||t;null!==this.view?(this.view.dispose(),this.view=null):this.needsInitialization||x.removeChildNodes(s),e&&(this.view=e.render(t,s,t))}static forCustomElement(e){const t=e.$fastController;if(void 0!==t)return t;const s=G.forType(e.constructor);if(void 0===s)throw new Error("Missing FASTElement definition.");return e.$fastController=new X(e,s)}}function Y(e){return class extends e{constructor(){super(),X.forCustomElement(this)}$emit(e,t,s){return this.$fastController.emit(e,t,s)}connectedCallback(){this.$fastController.onConnectedCallback()}disconnectedCallback(){this.$fastController.onDisconnectedCallback()}attributeChangedCallback(e,t,s){this.$fastController.onAttributeChangedCallback(e,t,s)}}}const ee=Object.assign(Y(HTMLElement),{from:e=>Y(e),define:(e,t)=>new G(e,t).define().type}),te=new Map;"metadata"in Reflect||(Reflect.metadata=function(e,t){return function(s){Reflect.defineMetadata(e,t,s)}},Reflect.defineMetadata=function(e,t,s){let n=te.get(s);void 0===n&&te.set(s,n=new Map),n.set(e,t)},Reflect.getOwnMetadata=function(e,t){const s=te.get(t);if(void 0!==s)return s.get(e)});class se{constructor(e,t){this.container=e,this.key=t}instance(e){return this.registerResolver(0,e)}singleton(e){return this.registerResolver(1,e)}transient(e){return this.registerResolver(2,e)}callback(e){return this.registerResolver(3,e)}cachedCallback(e){return this.registerResolver(3,$e(e))}aliasTo(e){return this.registerResolver(5,e)}registerResolver(e,t){const{container:s,key:n}=this;return this.container=this.key=void 0,s.registerResolver(n,new pe(n,e,t))}}function ne(e){const t=e.slice(),s=Object.keys(e),n=s.length;let r;for(let i=0;i<n;++i)r=s[i],Ee(r)||(t[r]=e[r]);return t}const re=Object.freeze({none(e){throw Error(`${e.toString()} not registered, did you forget to add @singleton()?`)},singleton:e=>new pe(e,1,e),transient:e=>new pe(e,2,e)}),ie=Object.freeze({default:Object.freeze({parentLocator:()=>null,responsibleForOwnerRequests:!1,defaultResolver:re.singleton})}),oe=new Map;function ae(e){return t=>Reflect.getOwnMetadata(e,t)}let le=null;const ce=Object.freeze({createContainer:e=>new Se(null,Object.assign({},ie.default,e)),findResponsibleContainer(e){const t=e.$$container$$;return t&&t.responsibleForOwnerRequests?t:ce.findParentContainer(e)},findParentContainer(e){const t=new CustomEvent(Fe,{bubbles:!0,composed:!0,cancelable:!0,detail:{container:void 0}});return e.dispatchEvent(t),t.detail.container||ce.getOrCreateDOMContainer()},getOrCreateDOMContainer:(e,t)=>e?e.$$container$$||new Se(e,Object.assign({},ie.default,t,{parentLocator:ce.findParentContainer})):le||(le=new Se(null,Object.assign({},ie.default,t,{parentLocator:()=>null}))),getDesignParamtypes:ae("design:paramtypes"),getAnnotationParamtypes:ae("di:paramtypes"),getOrCreateAnnotationParamTypes(e){let t=this.getAnnotationParamtypes(e);return void 0===t&&Reflect.defineMetadata("di:paramtypes",t=[],e),t},getDependencies(e){let t=oe.get(e);if(void 0===t){const s=e.inject;if(void 0===s){const s=ce.getDesignParamtypes(e),n=ce.getAnnotationParamtypes(e);if(void 0===s)if(void 0===n){const s=Object.getPrototypeOf(e);t="function"==typeof s&&s!==Function.prototype?ne(ce.getDependencies(s)):[]}else t=ne(n);else if(void 0===n)t=ne(s);else{t=ne(s);let e,r=n.length;for(let s=0;s<r;++s)e=n[s],void 0!==e&&(t[s]=e);const i=Object.keys(n);let o;r=i.length;for(let e=0;e<r;++e)o=i[e],Ee(o)||(t[o]=n[o])}}else t=ne(s);oe.set(e,t)}return t},defineProperty(e,t,s,n=!1){const r=`$di_${t}`;Reflect.defineProperty(e,t,{get:function(){let e=this[r];if(void 0===e){const i=this instanceof HTMLElement?ce.findResponsibleContainer(this):ce.getOrCreateDOMContainer();if(e=i.get(s),this[r]=e,n&&this instanceof ee){const n=this.$fastController,i=()=>{ce.findResponsibleContainer(this).get(s)!==this[r]&&(this[r]=e,n.notify(t))};n.subscribe({handleChange:i},"isConnected")}}return e}})},createInterface(e,t){const s="function"==typeof e?e:t,n="string"==typeof e?e:e&&"friendlyName"in e&&e.friendlyName||Ie,r="string"!=typeof e&&(e&&"respectConnection"in e&&e.respectConnection||!1),i=function(e,t,s){if(null==e||void 0!==new.target)throw new Error(`No registration for interface: '${i.friendlyName}'`);t?ce.defineProperty(e,t,i,r):ce.getOrCreateAnnotationParamTypes(e)[s]=i};return i.$isInterface=!0,i.friendlyName=null==n?"(anonymous)":n,null!=s&&(i.register=function(e,t){return s(new se(e,null!=t?t:i))}),i.toString=function(){return`InterfaceSymbol<${i.friendlyName}>`},i},inject:(...e)=>function(t,s,n){if("number"==typeof n){const s=ce.getOrCreateAnnotationParamTypes(t),r=e[0];void 0!==r&&(s[n]=r)}else if(s)ce.defineProperty(t,s,e[0]);else{const s=n?ce.getOrCreateAnnotationParamTypes(n.value):ce.getOrCreateAnnotationParamTypes(t);let r;for(let t=0;t<e.length;++t)r=e[t],void 0!==r&&(s[t]=r)}},transient:e=>(e.register=function(t){return Oe.transient(e,e).register(t)},e.registerInRequestor=!1,e),singleton:(e,t=de)=>(e.register=function(t){return Oe.singleton(e,e).register(t)},e.registerInRequestor=t.scoped,e)}),ue=ce.createInterface("Container");function he(e){return function(t){const s=function(e,t,n){ce.inject(s)(e,t,n)};return s.$isResolver=!0,s.resolve=function(s,n){return e(t,s,n)},s}}ce.inject;const de={scoped:!1};function ge(e,t,s){ce.inject(ge)(e,t,s)}function fe(e,t){return t.getFactory(e).construct(t)}he(((e,t,s)=>()=>s.get(e))),he(((e,t,s)=>s.has(e,!0)?s.get(e):void 0)),ge.$isResolver=!0,ge.resolve=()=>{},he(((e,t,s)=>{const n=fe(e,t),r=new pe(e,0,n);return s.registerResolver(e,r),n})),he(((e,t,s)=>fe(e,t)));class pe{constructor(e,t,s){this.key=e,this.strategy=t,this.state=s,this.resolving=!1}get $isResolver(){return!0}register(e){return e.registerResolver(this.key,this)}resolve(e,t){switch(this.strategy){case 0:return this.state;case 1:if(this.resolving)throw new Error(`Cyclic dependency found: ${this.state.name}`);return this.resolving=!0,this.state=e.getFactory(this.state).construct(t),this.strategy=0,this.resolving=!1,this.state;case 2:{const s=e.getFactory(this.state);if(null===s)throw new Error(`Resolver for ${String(this.key)} returned a null factory`);return s.construct(t)}case 3:return this.state(e,t,this);case 4:return this.state[0].resolve(e,t);case 5:return t.get(this.state);default:throw new Error(`Invalid resolver strategy specified: ${this.strategy}.`)}}getFactory(e){var t,s,n;switch(this.strategy){case 1:case 2:return e.getFactory(this.state);case 5:return null!==(n=null===(s=null===(t=e.getResolver(this.state))||void 0===t?void 0:t.getFactory)||void 0===s?void 0:s.call(t,e))&&void 0!==n?n:null;default:return null}}}function me(e){return this.get(e)}function ve(e,t){return t(e)}class be{constructor(e,t){this.Type=e,this.dependencies=t,this.transformers=null}construct(e,t){let s;return s=void 0===t?new this.Type(...this.dependencies.map(me,e)):new this.Type(...this.dependencies.map(me,e),...t),null==this.transformers?s:this.transformers.reduce(ve,s)}registerTransformer(e){(this.transformers||(this.transformers=[])).push(e)}}const ye={$isResolver:!0,resolve:(e,t)=>t};function we(e){return"function"==typeof e.register}function Ce(e){return function(e){return we(e)&&"boolean"==typeof e.registerInRequestor}(e)&&e.registerInRequestor}const xe=new Set(["Array","ArrayBuffer","Boolean","DataView","Date","Error","EvalError","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Number","Object","Promise","RangeError","ReferenceError","RegExp","Set","SharedArrayBuffer","String","SyntaxError","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakSet"]),Fe="__DI_LOCATE_PARENT__",Ve=new Map;class Se{constructor(e,t){this.owner=e,this.config=t,this._parent=void 0,this.registerDepth=0,this.context=null,null!==e&&(e.$$container$$=this),this.resolvers=new Map,this.resolvers.set(ue,ye),e instanceof Node&&e.addEventListener(Fe,(e=>{e.composedPath()[0]!==this.owner&&(e.detail.container=this,e.stopImmediatePropagation())}))}get parent(){return void 0===this._parent&&(this._parent=this.config.parentLocator(this.owner)),this._parent}get depth(){return null===this.parent?0:this.parent.depth+1}get responsibleForOwnerRequests(){return this.config.responsibleForOwnerRequests}registerWithContext(e,...t){return this.context=e,this.register(...t),this.context=null,this}register(...e){if(100==++this.registerDepth)throw new Error("Unable to autoregister dependency");let t,s,n,r,i;const o=this.context;for(let a=0,l=e.length;a<l;++a)if(t=e[a],Ne(t))if(we(t))t.register(this,o);else if(void 0!==t.prototype)Oe.singleton(t,t).register(this);else for(s=Object.keys(t),r=0,i=s.length;r<i;++r)n=t[s[r]],Ne(n)&&(we(n)?n.register(this,o):this.register(n));return--this.registerDepth,this}registerResolver(e,t){Te(e);const s=this.resolvers,n=s.get(e);return null==n?s.set(e,t):n instanceof pe&&4===n.strategy?n.state.push(t):s.set(e,new pe(e,4,[n,t])),t}registerTransformer(e,t){const s=this.getResolver(e);if(null==s)return!1;if(s.getFactory){const e=s.getFactory(this);return null!=e&&(e.registerTransformer(t),!0)}return!1}getResolver(e,t=!0){if(Te(e),void 0!==e.resolve)return e;let s,n=this;for(;null!=n;){if(s=n.resolvers.get(e),null!=s)return s;if(null==n.parent){const s=Ce(e)?this:n;return t?this.jitRegister(e,s):null}n=n.parent}return null}has(e,t=!1){return!!this.resolvers.has(e)||!(!t||null==this.parent)&&this.parent.has(e,!0)}get(e){if(Te(e),e.$isResolver)return e.resolve(this,this);let t,s=this;for(;null!=s;){if(t=s.resolvers.get(e),null!=t)return t.resolve(s,this);if(null==s.parent){const n=Ce(e)?this:s;return t=this.jitRegister(e,n),t.resolve(s,this)}s=s.parent}throw new Error(`Unable to resolve key: ${String(e)}`)}getAll(e,t=!1){Te(e);const s=this;let n,r=s;if(t){let t=f;for(;null!=r;)n=r.resolvers.get(e),null!=n&&(t=t.concat(ke(n,r,s))),r=r.parent;return t}for(;null!=r;){if(n=r.resolvers.get(e),null!=n)return ke(n,r,s);if(r=r.parent,null==r)return f}return f}getFactory(e){let t=Ve.get(e);if(void 0===t){if(Re(e))throw new Error(`${e.name} is a native function and therefore cannot be safely constructed by DI. If this is intentional, please use a callback or cachedCallback resolver.`);Ve.set(e,t=new be(e,ce.getDependencies(e)))}return t}registerFactory(e,t){Ve.set(e,t)}createChild(e){return new Se(null,Object.assign({},this.config,e,{parentLocator:()=>this}))}jitRegister(e,t){if("function"!=typeof e)throw new Error(`Attempted to jitRegister something that is not a constructor: '${e}'. Did you forget to register this dependency?`);if(xe.has(e.name))throw new Error(`Attempted to jitRegister an intrinsic type: ${e.name}. Did you forget to add @inject(Key)`);if(we(e)){const s=e.register(t);if(!(s instanceof Object)||null==s.resolve){const s=t.resolvers.get(e);if(null!=s)return s;throw new Error("A valid resolver was not returned from the static register method")}return s}if(e.$isInterface)throw new Error(`Attempted to jitRegister an interface: ${e.friendlyName}`);{const s=this.config.defaultResolver(e,t);return t.resolvers.set(e,s),s}}}const De=new WeakMap;function $e(e){return function(t,s,n){if(De.has(n))return De.get(n);const r=e(t,s,n);return De.set(n,r),r}}const Oe=Object.freeze({instance:(e,t)=>new pe(e,0,t),singleton:(e,t)=>new pe(e,1,t),transient:(e,t)=>new pe(e,2,t),callback:(e,t)=>new pe(e,3,t),cachedCallback:(e,t)=>new pe(e,3,$e(t)),aliasTo:(e,t)=>new pe(t,5,e)});function Te(e){if(null==e)throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}function ke(e,t,s){if(e instanceof pe&&4===e.strategy){const n=e.state;let r=n.length;const i=new Array(r);for(;r--;)i[r]=n[r].resolve(t,s);return i}return[e.resolve(t,s)]}const Ie="(anonymous)";function Ne(e){return"object"==typeof e&&null!==e||"function"==typeof e}const Re=function(){const e=new WeakMap;let t=!1,s="",n=0;return function(r){return t=e.get(r),void 0===t&&(s=r.toString(),n=s.length,t=n>=29&&n<=100&&125===s.charCodeAt(n-1)&&s.charCodeAt(n-2)<=32&&93===s.charCodeAt(n-3)&&101===s.charCodeAt(n-4)&&100===s.charCodeAt(n-5)&&111===s.charCodeAt(n-6)&&99===s.charCodeAt(n-7)&&32===s.charCodeAt(n-8)&&101===s.charCodeAt(n-9)&&118===s.charCodeAt(n-10)&&105===s.charCodeAt(n-11)&&116===s.charCodeAt(n-12)&&97===s.charCodeAt(n-13)&&110===s.charCodeAt(n-14)&&88===s.charCodeAt(n-15),e.set(r,t)),t}}(),Ae={};function Ee(e){switch(typeof e){case"number":return e>=0&&(0|e)===e;case"string":{const t=Ae[e];if(void 0!==t)return t;const s=e.length;if(0===s)return Ae[e]=!1;let n=0;for(let t=0;t<s;++t)if(n=e.charCodeAt(t),0===t&&48===n&&s>1||n<48||n>57)return Ae[e]=!1;return Ae[e]=!0}default:return!1}}function _e(e){return`${e.toLowerCase()}:presentation`}const Pe=new Map,Be=Object.freeze({define(e,t,s){const n=_e(e);void 0===Pe.get(n)?Pe.set(n,t):Pe.set(n,!1),s.register(Oe.instance(n,t))},forTag(e,t){const s=_e(e),n=Pe.get(s);return!1===n?ce.findResponsibleContainer(t).get(s):n||null}});class Me{constructor(e,t){this.template=e||null,this.styles=void 0===t?null:Array.isArray(t)?k.create(t):t instanceof k?t:k.create([t])}applyTo(e){const t=e.$fastController;null===t.template&&(t.template=this.template),null===t.styles&&(t.styles=this.styles)}}class je extends ee{constructor(){super(...arguments),this._presentation=void 0}get $presentation(){return void 0===this._presentation&&(this._presentation=Be.forTag(this.tagName,this)),this._presentation}templateChanged(){void 0!==this.template&&(this.$fastController.template=this.template)}stylesChanged(){void 0!==this.styles&&(this.$fastController.styles=this.styles)}connectedCallback(){null!==this.$presentation&&this.$presentation.applyTo(this),super.connectedCallback()}static compose(e){return(t={})=>new He(this===je?class extends je{}:this,e,t)}}function Le(e,t,s){return"function"==typeof e?e(t,s):e}K([D],je.prototype,"template",void 0),K([D],je.prototype,"styles",void 0);class He{constructor(e,t,s){this.type=e,this.elementDefinition=t,this.overrideDefinition=s,this.definition=Object.assign(Object.assign({},this.elementDefinition),this.overrideDefinition)}register(e,t){const s=this.definition,n=this.overrideDefinition,r=`${s.prefix||t.elementPrefix}-${s.baseName}`;t.tryDefineElement({name:r,type:this.type,baseClass:this.elementDefinition.baseClass,callback:e=>{const t=new Me(Le(s.template,e,s),Le(s.styles,e,s));e.definePresentation(t);let r=Le(s.shadowOptions,e,s);e.shadowRootMode&&(r?n.shadowOptions||(r.mode=e.shadowRootMode):null!==r&&(r={mode:e.shadowRootMode})),e.defineElement({elementOptions:Le(s.elementOptions,e,s),shadowOptions:r,attributes:Le(s.attributes,e,s)})}})}}class ze{createCSS(){return""}createBehavior(){}}function qe(e){const t=e.parentElement;if(t)return t;{const t=e.getRootNode();if(t.host instanceof HTMLElement)return t.host}return null}const We=document.createElement("div");class Ue{setProperty(e,t){x.queueUpdate((()=>this.target.setProperty(e,t)))}removeProperty(e){x.queueUpdate((()=>this.target.removeProperty(e)))}}class Ge extends Ue{constructor(){super();const e=new CSSStyleSheet;this.target=e.cssRules[e.insertRule(":root{}")].style,document.adoptedStyleSheets=[...document.adoptedStyleSheets,e]}}class Ke extends Ue{constructor(){super(),this.style=document.createElement("style"),document.head.appendChild(this.style);const{sheet:e}=this.style;if(e){const t=e.insertRule(":root{}",e.cssRules.length);this.target=e.cssRules[t].style}}}class Qe{constructor(e){this.store=new Map,this.target=null;const t=e.$fastController;this.style=document.createElement("style"),t.addStyles(this.style),S.getNotifier(t).subscribe(this,"isConnected"),this.handleChange(t,"isConnected")}targetChanged(){if(null!==this.target)for(const[e,t]of this.store.entries())this.target.setProperty(e,t)}setProperty(e,t){this.store.set(e,t),x.queueUpdate((()=>{null!==this.target&&this.target.setProperty(e,t)}))}removeProperty(e){this.store.delete(e),x.queueUpdate((()=>{null!==this.target&&this.target.removeProperty(e)}))}handleChange(e,t){const{sheet:s}=this.style;if(s){const e=s.insertRule(":host{}",s.cssRules.length);this.target=s.cssRules[e].style}else this.target=null}}K([D],Qe.prototype,"target",void 0);class Ze{constructor(e){this.target=e.style}setProperty(e,t){x.queueUpdate((()=>this.target.setProperty(e,t)))}removeProperty(e){x.queueUpdate((()=>this.target.removeProperty(e)))}}class Je{setProperty(e,t){Je.properties[e]=t;for(const s of Je.roots.values())et.getOrCreate(Je.normalizeRoot(s)).setProperty(e,t)}removeProperty(e){delete Je.properties[e];for(const t of Je.roots.values())et.getOrCreate(Je.normalizeRoot(t)).removeProperty(e)}static registerRoot(e){const{roots:t}=Je;if(!t.has(e)){t.add(e);const s=et.getOrCreate(this.normalizeRoot(e));for(const e in Je.properties)s.setProperty(e,Je.properties[e])}}static unregisterRoot(e){const{roots:t}=Je;if(t.has(e)){t.delete(e);const s=et.getOrCreate(Je.normalizeRoot(e));for(const e in Je.properties)s.removeProperty(e)}}static normalizeRoot(e){return e===We?document:e}}Je.roots=new Set,Je.properties={};const Xe=new WeakMap,Ye=x.supportsAdoptedStyleSheets?class extends Ue{constructor(e){super();const t=new CSSStyleSheet;t[R]=!0,this.target=t.cssRules[t.insertRule(":host{}")].style,e.$fastController.addStyles(k.create([t]))}}:Qe,et=Object.freeze({getOrCreate(e){if(Xe.has(e))return Xe.get(e);let t;return t=e===We?new Je:e instanceof Document?x.supportsAdoptedStyleSheets?new Ge:new Ke:e instanceof ee?new Ye(e):new Ze(e),Xe.set(e,t),t}});class tt extends ze{constructor(e){super(),this.subscribers=new WeakMap,this._appliedTo=new Set,this.name=e.name,null!==e.cssCustomPropertyName&&(this.cssCustomProperty=`--${e.cssCustomPropertyName}`,this.cssVar=`var(${this.cssCustomProperty})`),this.id=tt.uniqueId(),tt.tokensById.set(this.id,this)}get appliedTo(){return[...this._appliedTo]}static from(e){return new tt({name:"string"==typeof e?e:e.name,cssCustomPropertyName:"string"==typeof e?e:void 0===e.cssCustomPropertyName?e.name:e.cssCustomPropertyName})}static isCSSDesignToken(e){return"string"==typeof e.cssCustomProperty}static isDerivedDesignTokenValue(e){return"function"==typeof e}static getTokenById(e){return tt.tokensById.get(e)}getOrCreateSubscriberSet(e=this){return this.subscribers.get(e)||this.subscribers.set(e,new Set)&&this.subscribers.get(e)}createCSS(){return this.cssVar||""}getValueFor(e){const t=ot.getOrCreate(e).get(this);if(void 0!==t)return t;throw new Error(`Value could not be retrieved for token named "${this.name}". Ensure the value is set for ${e} or an ancestor of ${e}.`)}setValueFor(e,t){return this._appliedTo.add(e),t instanceof tt&&(t=this.alias(t)),ot.getOrCreate(e).set(this,t),this}deleteValueFor(e){return this._appliedTo.delete(e),ot.existsFor(e)&&ot.getOrCreate(e).delete(this),this}withDefault(e){return this.setValueFor(We,e),this}subscribe(e,t){const s=this.getOrCreateSubscriberSet(t);t&&!ot.existsFor(t)&&ot.getOrCreate(t),s.has(e)||s.add(e)}unsubscribe(e,t){const s=this.subscribers.get(t||this);s&&s.has(e)&&s.delete(e)}notify(e){const t=Object.freeze({token:this,target:e});this.subscribers.has(this)&&this.subscribers.get(this).forEach((e=>e.handleChange(t))),this.subscribers.has(e)&&this.subscribers.get(e).forEach((e=>e.handleChange(t)))}alias(e){return t=>e.getValueFor(t)}}tt.uniqueId=(()=>{let e=0;return()=>(e++,e.toString(16))})(),tt.tokensById=new Map;class st{constructor(e,t,s){this.source=e,this.token=t,this.node=s,this.dependencies=new Set,this.observer=S.binding(e,this,!1),this.observer.handleChange=this.observer.call,this.handleChange()}disconnect(){this.observer.disconnect()}handleChange(){try{this.node.store.set(this.token,this.observer.observe(this.node.target,T))}catch(e){console.error(e)}}}class nt{constructor(){this.values=new Map}set(e,t){this.values.get(e)!==t&&(this.values.set(e,t),S.getNotifier(this).notify(e.id))}get(e){return S.track(this,e.id),this.values.get(e)}delete(e){this.values.delete(e),S.getNotifier(this).notify(e.id)}all(){return this.values.entries()}}const rt=new WeakMap,it=new WeakMap;class ot{constructor(e){this.target=e,this.store=new nt,this.children=[],this.assignedValues=new Map,this.reflecting=new Set,this.bindingObservers=new Map,this.tokenValueChangeHandler={handleChange:(e,t)=>{const s=tt.getTokenById(t);s&&(s.notify(this.target),this.updateCSSTokenReflection(e,s))}},rt.set(e,this),S.getNotifier(this.store).subscribe(this.tokenValueChangeHandler),e instanceof ee?e.$fastController.addBehaviors([this]):e.isConnected&&this.bind()}static getOrCreate(e){return rt.get(e)||new ot(e)}static existsFor(e){return rt.has(e)}static findParent(e){if(We!==e.target){let t=qe(e.target);for(;null!==t;){if(rt.has(t))return rt.get(t);t=qe(t)}return ot.getOrCreate(We)}return null}static findClosestAssignedNode(e,t){let s=t;do{if(s.has(e))return s;s=s.parent?s.parent:s.target!==We?ot.getOrCreate(We):null}while(null!==s);return null}get parent(){return it.get(this)||null}updateCSSTokenReflection(e,t){if(tt.isCSSDesignToken(t)){const s=this.parent,n=this.isReflecting(t);if(s){const r=s.get(t),i=e.get(t);r===i||n?r===i&&n&&this.stopReflectToCSS(t):this.reflectToCSS(t)}else n||this.reflectToCSS(t)}}has(e){return this.assignedValues.has(e)}get(e){const t=this.store.get(e);if(void 0!==t)return t;const s=this.getRaw(e);return void 0!==s?(this.hydrate(e,s),this.get(e)):void 0}getRaw(e){var t;return this.assignedValues.has(e)?this.assignedValues.get(e):null===(t=ot.findClosestAssignedNode(e,this))||void 0===t?void 0:t.getRaw(e)}set(e,t){tt.isDerivedDesignTokenValue(this.assignedValues.get(e))&&this.tearDownBindingObserver(e),this.assignedValues.set(e,t),tt.isDerivedDesignTokenValue(t)?this.setupBindingObserver(e,t):this.store.set(e,t)}delete(e){this.assignedValues.delete(e),this.tearDownBindingObserver(e);const t=this.getRaw(e);t?this.hydrate(e,t):this.store.delete(e)}bind(){const e=ot.findParent(this);e&&e.appendChild(this);for(const e of this.assignedValues.keys())e.notify(this.target)}unbind(){this.parent&&it.get(this).removeChild(this);for(const e of this.bindingObservers.keys())this.tearDownBindingObserver(e)}appendChild(e){e.parent&&it.get(e).removeChild(e);const t=this.children.filter((t=>e.contains(t)));it.set(e,this),this.children.push(e),t.forEach((t=>e.appendChild(t))),S.getNotifier(this.store).subscribe(e);for(const[t,s]of this.store.all())e.hydrate(t,this.bindingObservers.has(t)?this.getRaw(t):s),e.updateCSSTokenReflection(e.store,t)}removeChild(e){const t=this.children.indexOf(e);if(-1!==t&&this.children.splice(t,1),S.getNotifier(this.store).unsubscribe(e),e.parent!==this)return!1;const s=it.delete(e);for(const[t]of this.store.all())e.hydrate(t,e.getRaw(t)),e.updateCSSTokenReflection(e.store,t);return s}contains(e){return function(e,t){let s=t;for(;null!==s;){if(s===e)return!0;s=qe(s)}return!1}(this.target,e.target)}reflectToCSS(e){this.isReflecting(e)||(this.reflecting.add(e),ot.cssCustomPropertyReflector.startReflection(e,this.target))}stopReflectToCSS(e){this.isReflecting(e)&&(this.reflecting.delete(e),ot.cssCustomPropertyReflector.stopReflection(e,this.target))}isReflecting(e){return this.reflecting.has(e)}handleChange(e,t){const s=tt.getTokenById(t);s&&(this.hydrate(s,this.getRaw(s)),this.updateCSSTokenReflection(this.store,s))}hydrate(e,t){if(!this.has(e)){const s=this.bindingObservers.get(e);tt.isDerivedDesignTokenValue(t)?s?s.source!==t&&(this.tearDownBindingObserver(e),this.setupBindingObserver(e,t)):this.setupBindingObserver(e,t):(s&&this.tearDownBindingObserver(e),this.store.set(e,t))}}setupBindingObserver(e,t){const s=new st(t,e,this);return this.bindingObservers.set(e,s),s}tearDownBindingObserver(e){return!!this.bindingObservers.has(e)&&(this.bindingObservers.get(e).disconnect(),this.bindingObservers.delete(e),!0)}}ot.cssCustomPropertyReflector=new class{startReflection(e,t){e.subscribe(this,t),this.handleChange({token:e,target:t})}stopReflection(e,t){e.unsubscribe(this,t),this.remove(e,t)}handleChange(e){const{token:t,target:s}=e;this.add(t,s)}add(e,t){et.getOrCreate(t).setProperty(e.cssCustomProperty,this.resolveCSSValue(ot.getOrCreate(t).get(e)))}remove(e,t){et.getOrCreate(t).removeProperty(e.cssCustomProperty)}resolveCSSValue(e){return e&&"function"==typeof e.createCSS?e.createCSS():e}},K([D],ot.prototype,"children",void 0);const at=Object.freeze({create:function(e){return tt.from(e)},notifyConnection:e=>!(!e.isConnected||!ot.existsFor(e)||(ot.getOrCreate(e).bind(),0)),notifyDisconnection:e=>!(e.isConnected||!ot.existsFor(e)||(ot.getOrCreate(e).unbind(),0)),registerRoot(e=We){Je.registerRoot(e)},unregisterRoot(e=We){Je.unregisterRoot(e)}}),lt=Object.freeze({definitionCallbackOnly:null,ignoreDuplicate:Symbol()}),ct=new Map,ut=new Map;let ht=null;const dt=ce.createInterface((e=>e.cachedCallback((e=>(null===ht&&(ht=new ft(null,e)),ht))))),gt=Object.freeze({tagFor:e=>ut.get(e),responsibleFor(e){const t=e.$$designSystem$$;return t||ce.findResponsibleContainer(e).get(dt)},getOrCreate(e){if(!e)return null===ht&&(ht=ce.getOrCreateDOMContainer().get(dt)),ht;const t=e.$$designSystem$$;if(t)return t;const s=ce.getOrCreateDOMContainer(e);if(s.has(dt,!1))return s.get(dt);{const t=new ft(e,s);return s.register(Oe.instance(dt,t)),t}}});class ft{constructor(e,t){this.owner=e,this.container=t,this.designTokensInitialized=!1,this.prefix="fast",this.shadowRootMode=void 0,this.disambiguate=()=>lt.definitionCallbackOnly,null!==e&&(e.$$designSystem$$=this)}withPrefix(e){return this.prefix=e,this}withShadowRootMode(e){return this.shadowRootMode=e,this}withElementDisambiguation(e){return this.disambiguate=e,this}withDesignTokenRoot(e){return this.designTokenRoot=e,this}register(...e){const t=this.container,s=[],n=this.disambiguate,r=this.shadowRootMode,i={elementPrefix:this.prefix,tryDefineElement(e,i,o){const a=function(e,t,s){return"string"==typeof e?{name:e,type:t,callback:s}:e}(e,i,o),{name:l,callback:c,baseClass:u}=a;let{type:h}=a,d=l,g=ct.get(d),f=!0;for(;g;){const e=n(d,h,g);switch(e){case lt.ignoreDuplicate:return;case lt.definitionCallbackOnly:f=!1,g=void 0;break;default:d=e,g=ct.get(d)}}f&&((ut.has(h)||h===je)&&(h=class extends h{}),ct.set(d,h),ut.set(h,d),u&&ut.set(u,d)),s.push(new pt(t,d,h,r,c,f))}};this.designTokensInitialized||(this.designTokensInitialized=!0,null!==this.designTokenRoot&&at.registerRoot(this.designTokenRoot)),t.registerWithContext(i,...e);for(const e of s)e.callback(e),e.willDefine&&null!==e.definition&&e.definition.define();return this}}class pt{constructor(e,t,s,n,r,i){this.container=e,this.name=t,this.type=s,this.shadowRootMode=n,this.callback=r,this.willDefine=i,this.definition=null}definePresentation(e){Be.define(this.name,e,this.container)}defineElement(e){this.definition=new G(this.type,Object.assign(Object.assign({},e),{name:this.name}))}tagFor(e){return gt.tagFor(e)}}function mt(e){return gt.getOrCreate(e).withPrefix("jp")}var vt=s(33061),bt=s(3752);class yt{constructor(){this.targetIndex=0}}class wt extends yt{constructor(){super(...arguments),this.createPlaceholder=x.createInterpolationPlaceholder}}class Ct extends yt{constructor(e,t,s){super(),this.name=e,this.behavior=t,this.options=s}createPlaceholder(e){return x.createCustomAttributePlaceholder(this.name,e)}createBehavior(e){return new this.behavior(e,this.options)}}function xt(e,t){this.source=e,this.context=t,null===this.bindingObserver&&(this.bindingObserver=S.binding(this.binding,this,this.isBindingVolatile)),this.updateTarget(this.bindingObserver.observe(e,t))}function Ft(e,t){this.source=e,this.context=t,this.target.addEventListener(this.targetName,this)}function Vt(){this.bindingObserver.disconnect(),this.source=null,this.context=null}function St(){this.bindingObserver.disconnect(),this.source=null,this.context=null;const e=this.target.$fastView;void 0!==e&&e.isComposed&&(e.unbind(),e.needsBindOnly=!0)}function Dt(){this.target.removeEventListener(this.targetName,this),this.source=null,this.context=null}function $t(e){x.setAttribute(this.target,this.targetName,e)}function Ot(e){x.setBooleanAttribute(this.target,this.targetName,e)}function Tt(e){if(null==e&&(e=""),e.create){this.target.textContent="";let t=this.target.$fastView;void 0===t?t=e.create():this.target.$fastTemplate!==e&&(t.isComposed&&(t.remove(),t.unbind()),t=e.create()),t.isComposed?t.needsBindOnly&&(t.needsBindOnly=!1,t.bind(this.source,this.context)):(t.isComposed=!0,t.bind(this.source,this.context),t.insertBefore(this.target),this.target.$fastView=t,this.target.$fastTemplate=e)}else{const t=this.target.$fastView;void 0!==t&&t.isComposed&&(t.isComposed=!1,t.remove(),t.needsBindOnly?t.needsBindOnly=!1:t.unbind()),this.target.textContent=e}}function kt(e){this.target[this.targetName]=e}function It(e){const t=this.classVersions||Object.create(null),s=this.target;let n=this.version||0;if(null!=e&&e.length){const r=e.split(/\s+/);for(let e=0,i=r.length;e<i;++e){const i=r[e];""!==i&&(t[i]=n,s.classList.add(i))}}if(this.classVersions=t,this.version=n+1,0!==n){n-=1;for(const e in t)t[e]===n&&s.classList.remove(e)}}class Nt extends wt{constructor(e){super(),this.binding=e,this.bind=xt,this.unbind=Vt,this.updateTarget=$t,this.isBindingVolatile=S.isVolatileBinding(this.binding)}get targetName(){return this.originalTargetName}set targetName(e){if(this.originalTargetName=e,void 0!==e)switch(e[0]){case":":if(this.cleanedTargetName=e.substr(1),this.updateTarget=kt,"innerHTML"===this.cleanedTargetName){const e=this.binding;this.binding=(t,s)=>x.createHTML(e(t,s))}break;case"?":this.cleanedTargetName=e.substr(1),this.updateTarget=Ot;break;case"@":this.cleanedTargetName=e.substr(1),this.bind=Ft,this.unbind=Dt;break;default:this.cleanedTargetName=e,"class"===e&&(this.updateTarget=It)}}targetAtContent(){this.updateTarget=Tt,this.unbind=St}createBehavior(e){return new Rt(e,this.binding,this.isBindingVolatile,this.bind,this.unbind,this.updateTarget,this.cleanedTargetName)}}class Rt{constructor(e,t,s,n,r,i,o){this.source=null,this.context=null,this.bindingObserver=null,this.target=e,this.binding=t,this.isBindingVolatile=s,this.bind=n,this.unbind=r,this.updateTarget=i,this.targetName=o}handleChange(){this.updateTarget(this.bindingObserver.observe(this.source,this.context))}handleEvent(e){O.setEvent(e);const t=this.binding(this.source,this.context);O.setEvent(null),!0!==t&&e.preventDefault()}}let At=null;class Et{addFactory(e){e.targetIndex=this.targetIndex,this.behaviorFactories.push(e)}captureContentBinding(e){e.targetAtContent(),this.addFactory(e)}reset(){this.behaviorFactories=[],this.targetIndex=-1}release(){At=this}static borrow(e){const t=At||new Et;return t.directives=e,t.reset(),At=null,t}}function _t(e){if(1===e.length)return e[0];let t;const s=e.length,n=e.map((e=>"string"==typeof e?()=>e:(t=e.targetName||t,e.binding))),r=new Nt(((e,t)=>{let r="";for(let i=0;i<s;++i)r+=n[i](e,t);return r}));return r.targetName=t,r}const Pt=C.length;function Bt(e,t){const s=t.split(w);if(1===s.length)return null;const n=[];for(let t=0,r=s.length;t<r;++t){const r=s[t],i=r.indexOf(C);let o;if(-1===i)o=r;else{const t=parseInt(r.substring(0,i));n.push(e.directives[t]),o=r.substring(i+Pt)}""!==o&&n.push(o)}return n}function Mt(e,t,s=!1){const n=t.attributes;for(let r=0,i=n.length;r<i;++r){const o=n[r],a=o.value,l=Bt(e,a);let c=null;null===l?s&&(c=new Nt((()=>a)),c.targetName=o.name):c=_t(l),null!==c&&(t.removeAttributeNode(o),r--,i--,e.addFactory(c))}}function jt(e,t,s){const n=Bt(e,t.textContent);if(null!==n){let r=t;for(let i=0,o=n.length;i<o;++i){const o=n[i],a=0===i?t:r.parentNode.insertBefore(document.createTextNode(""),r.nextSibling);"string"==typeof o?a.textContent=o:(a.textContent=" ",e.captureContentBinding(o)),r=a,e.targetIndex++,a!==t&&s.nextNode()}e.targetIndex--}}const Lt=document.createRange();class Ht{constructor(e,t){this.fragment=e,this.behaviors=t,this.source=null,this.context=null,this.firstChild=e.firstChild,this.lastChild=e.lastChild}appendTo(e){e.appendChild(this.fragment)}insertBefore(e){if(this.fragment.hasChildNodes())e.parentNode.insertBefore(this.fragment,e);else{const t=this.lastChild;if(e.previousSibling===t)return;const s=e.parentNode;let n,r=this.firstChild;for(;r!==t;)n=r.nextSibling,s.insertBefore(r,e),r=n;s.insertBefore(t,e)}}remove(){const e=this.fragment,t=this.lastChild;let s,n=this.firstChild;for(;n!==t;)s=n.nextSibling,e.appendChild(n),n=s;e.appendChild(t)}dispose(){const e=this.firstChild.parentNode,t=this.lastChild;let s,n=this.firstChild;for(;n!==t;)s=n.nextSibling,e.removeChild(n),n=s;e.removeChild(t);const r=this.behaviors,i=this.source;for(let e=0,t=r.length;e<t;++e)r[e].unbind(i)}bind(e,t){const s=this.behaviors;if(this.source!==e)if(null!==this.source){const n=this.source;this.source=e,this.context=t;for(let r=0,i=s.length;r<i;++r){const i=s[r];i.unbind(n),i.bind(e,t)}}else{this.source=e,this.context=t;for(let n=0,r=s.length;n<r;++n)s[n].bind(e,t)}}unbind(){if(null===this.source)return;const e=this.behaviors,t=this.source;for(let s=0,n=e.length;s<n;++s)e[s].unbind(t);this.source=null}static disposeContiguousBatch(e){if(0!==e.length){Lt.setStartBefore(e[0].firstChild),Lt.setEndAfter(e[e.length-1].lastChild),Lt.deleteContents();for(let t=0,s=e.length;t<s;++t){const s=e[t],n=s.behaviors,r=s.source;for(let e=0,t=n.length;e<t;++e)n[e].unbind(r)}}}}class zt{constructor(e,t){this.behaviorCount=0,this.hasHostBehaviors=!1,this.fragment=null,this.targetOffset=0,this.viewBehaviorFactories=null,this.hostBehaviorFactories=null,this.html=e,this.directives=t}create(e){if(null===this.fragment){let e;const t=this.html;if("string"==typeof t){e=document.createElement("template"),e.innerHTML=x.createHTML(t);const s=e.content.firstElementChild;null!==s&&"TEMPLATE"===s.tagName&&(e=s)}else e=t;const s=function(e,t){const s=e.content;document.adoptNode(s);const n=Et.borrow(t);Mt(n,e,!0);const r=n.behaviorFactories;n.reset();const i=x.createTemplateWalker(s);let o;for(;o=i.nextNode();)switch(n.targetIndex++,o.nodeType){case 1:Mt(n,o);break;case 3:jt(n,o,i);break;case 8:x.isMarker(o)&&n.addFactory(t[x.extractDirectiveIndexFromMarker(o)])}let a=0;(x.isMarker(s.firstChild)||1===s.childNodes.length&&t.length)&&(s.insertBefore(document.createComment(""),s.firstChild),a=-1);const l=n.behaviorFactories;return n.release(),{fragment:s,viewBehaviorFactories:l,hostBehaviorFactories:r,targetOffset:a}}(e,this.directives);this.fragment=s.fragment,this.viewBehaviorFactories=s.viewBehaviorFactories,this.hostBehaviorFactories=s.hostBehaviorFactories,this.targetOffset=s.targetOffset,this.behaviorCount=this.viewBehaviorFactories.length+this.hostBehaviorFactories.length,this.hasHostBehaviors=this.hostBehaviorFactories.length>0}const t=this.fragment.cloneNode(!0),s=this.viewBehaviorFactories,n=new Array(this.behaviorCount),r=x.createTemplateWalker(t);let i=0,o=this.targetOffset,a=r.nextNode();for(let e=s.length;i<e;++i){const e=s[i],t=e.targetIndex;for(;null!==a;){if(o===t){n[i]=e.createBehavior(a);break}a=r.nextNode(),o++}}if(this.hasHostBehaviors){const t=this.hostBehaviorFactories;for(let s=0,r=t.length;s<r;++s,++i)n[i]=t[s].createBehavior(e)}return new Ht(t,n)}render(e,t,s){"string"==typeof t&&(t=document.getElementById(t)),void 0===s&&(s=t);const n=this.create(s);return n.bind(e,T),n.appendTo(t),n}}const qt=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function Wt(e,...t){const s=[];let n="";for(let r=0,i=e.length-1;r<i;++r){const i=e[r];let o=t[r];if(n+=i,o instanceof zt){const e=o;o=()=>e}if("function"==typeof o&&(o=new Nt(o)),o instanceof wt){const e=qt.exec(i);null!==e&&(o.targetName=e[2])}o instanceof yt?(n+=o.createPlaceholder(s.length),s.push(o)):n+=o}return n+=e[e.length-1],new zt(n,s)}class Ut{constructor(e,t){this.target=e,this.propertyName=t}bind(e){e[this.propertyName]=this.target}unbind(){}}function Gt(e){return new Ct("fast-ref",Ut,e)}function Kt(e){return(0,bt.Re)(e)&&"treeitem"===e.getAttribute("role")}Wt`
    <span part="end" ${Gt("endContainer")}>
        <slot
            name="end"
            ${Gt("end")}
            @slotchange="${e=>e.handleEndContentChange()}"
        ></slot>
    </span>
`,Wt`
    <span part="start" ${Gt("startContainer")}>
        <slot
            name="start"
            ${Gt("start")}
            @slotchange="${e=>e.handleStartContentChange()}"
        ></slot>
    </span>
`;class Qt extends je{constructor(){super(...arguments),this.expanded=!1,this.focusable=!1,this.isNestedItem=()=>Kt(this.parentElement),this.handleExpandCollapseButtonClick=e=>{this.disabled||e.defaultPrevented||(this.expanded=!this.expanded)},this.handleFocus=e=>{this.setAttribute("tabindex","0")},this.handleBlur=e=>{this.setAttribute("tabindex","-1")}}expandedChanged(){this.$fastController.isConnected&&this.$emit("expanded-change",this)}selectedChanged(){this.$fastController.isConnected&&this.$emit("selected-change",this)}itemsChanged(e,t){this.$fastController.isConnected&&this.items.forEach((e=>{Kt(e)&&(e.nested=!0)}))}static focusItem(e){e.focusable=!0,e.focus()}childItemLength(){const e=this.childItems.filter((e=>Kt(e)));return e?e.length:0}}K([z({mode:"boolean"})],Qt.prototype,"expanded",void 0),K([z({mode:"boolean"})],Qt.prototype,"selected",void 0),K([z({mode:"boolean"})],Qt.prototype,"disabled",void 0),K([D],Qt.prototype,"focusable",void 0),K([D],Qt.prototype,"childItems",void 0),K([D],Qt.prototype,"items",void 0),K([D],Qt.prototype,"nested",void 0),K([D],Qt.prototype,"renderCollapsedChildren",void 0),function(e,...t){const s=j.locate(e);t.forEach((t=>{Object.getOwnPropertyNames(t.prototype).forEach((s=>{"constructor"!==s&&Object.defineProperty(e.prototype,s,Object.getOwnPropertyDescriptor(t.prototype,s))})),j.locate(t).forEach((e=>s.push(e)))}))}(Qt,class{handleStartContentChange(){this.startContainer.classList.toggle("start",this.start.assignedNodes().length>0)}handleEndContentChange(){this.endContainer.classList.toggle("end",this.end.assignedNodes().length>0)}});class Zt extends je{constructor(){super(...arguments),this.currentFocused=null,this.handleFocus=e=>{if(!(this.slottedTreeItems.length<1))return e.target===this?(null===this.currentFocused&&(this.currentFocused=this.getValidFocusableItem()),void(null!==this.currentFocused&&Qt.focusItem(this.currentFocused))):void(this.contains(e.target)&&(this.setAttribute("tabindex","-1"),this.currentFocused=e.target))},this.handleBlur=e=>{e.target instanceof HTMLElement&&(null===e.relatedTarget||!this.contains(e.relatedTarget))&&this.setAttribute("tabindex","0")},this.handleKeyDown=e=>{if(e.defaultPrevented)return;if(this.slottedTreeItems.length<1)return!0;const t=this.getVisibleNodes();switch(e.key){case vt.tU:return void(t.length&&Qt.focusItem(t[0]));case vt.Kh:return void(t.length&&Qt.focusItem(t[t.length-1]));case vt.BE:if(e.target&&this.isFocusableElement(e.target)){const t=e.target;t instanceof Qt&&t.childItemLength()>0&&t.expanded?t.expanded=!1:t instanceof Qt&&t.parentElement instanceof Qt&&Qt.focusItem(t.parentElement)}return!1;case vt.mr:if(e.target&&this.isFocusableElement(e.target)){const t=e.target;t instanceof Qt&&t.childItemLength()>0&&!t.expanded?t.expanded=!0:t instanceof Qt&&t.childItemLength()>0&&this.focusNextNode(1,e.target)}return;case vt.iF:return void(e.target&&this.isFocusableElement(e.target)&&this.focusNextNode(1,e.target));case vt.SB:return void(e.target&&this.isFocusableElement(e.target)&&this.focusNextNode(-1,e.target));case vt.kL:return void this.handleClick(e)}return!0},this.handleSelectedChange=e=>{if(e.defaultPrevented)return;if(!(e.target instanceof Element&&Kt(e.target)))return!0;const t=e.target;t.selected?(this.currentSelected&&this.currentSelected!==t&&(this.currentSelected.selected=!1),this.currentSelected=t):t.selected||this.currentSelected!==t||(this.currentSelected=null)},this.setItems=()=>{const e=this.treeView.querySelector("[aria-selected='true']");this.currentSelected=e,null!==this.currentFocused&&this.contains(this.currentFocused)||(this.currentFocused=this.getValidFocusableItem()),this.nested=this.checkForNestedItems(),this.getVisibleNodes().forEach((e=>{Kt(e)&&(e.nested=this.nested)}))},this.isFocusableElement=e=>Kt(e),this.isSelectedElement=e=>e.selected}slottedTreeItemsChanged(){this.$fastController.isConnected&&this.setItems()}connectedCallback(){super.connectedCallback(),this.setAttribute("tabindex","0"),x.queueUpdate((()=>{this.setItems()}))}handleClick(e){if(e.defaultPrevented)return;if(!(e.target instanceof Element&&Kt(e.target)))return!0;const t=e.target;t.disabled||(t.selected=!t.selected)}focusNextNode(e,t){const s=this.getVisibleNodes();if(!s)return;const n=s[s.indexOf(t)+e];(0,bt.Re)(n)&&Qt.focusItem(n)}getValidFocusableItem(){const e=this.getVisibleNodes();let t=e.findIndex(this.isSelectedElement);return-1===t&&(t=e.findIndex(this.isFocusableElement)),-1!==t?e[t]:null}checkForNestedItems(){return this.slottedTreeItems.some((e=>Kt(e)&&e.querySelector("[role='treeitem']")))}getVisibleNodes(){return(0,bt.UM)(this,"[role='treeitem']")||[]}}K([z({attribute:"render-collapsed-nodes"})],Zt.prototype,"renderCollapsedNodes",void 0),K([D],Zt.prototype,"currentSelected",void 0),K([D],Zt.prototype,"slottedTreeItems",void 0);class Jt{constructor(e,t){this.target=e,this.options=t,this.source=null}bind(e){const t=this.options.property;this.shouldUpdate=S.getAccessors(e).some((e=>e.name===t)),this.source=e,this.updateTarget(this.computeNodes()),this.shouldUpdate&&this.observe()}unbind(){this.updateTarget(f),this.source=null,this.shouldUpdate&&this.disconnect()}handleEvent(){this.updateTarget(this.computeNodes())}computeNodes(){let e=this.getNodes();return void 0!==this.options.filter&&(e=e.filter(this.options.filter)),e}updateTarget(e){this.source[this.options.property]=e}}class Xt extends Jt{constructor(e,t){super(e,t)}observe(){this.target.addEventListener("slotchange",this)}disconnect(){this.target.removeEventListener("slotchange",this)}getNodes(){return this.target.assignedNodes(this.options)}}function Yt(e){return"string"==typeof e&&(e={property:e}),new Ct("fast-slotted",Xt,e)}function es(e,t){const s=[];let n="";const r=[];for(let i=0,o=e.length-1;i<o;++i){n+=e[i];let o=t[i];if(o instanceof ze){const e=o.createBehavior();o=o.createCSS(),e&&r.push(e)}o instanceof k||o instanceof CSSStyleSheet?(""!==n.trim()&&(s.push(n),n=""),s.push(o)):n+=o}return n+=e[e.length-1],""!==n.trim()&&s.push(n),{styles:s,behaviors:r}}function ts(e,...t){const{styles:s,behaviors:n}=es(e,t),r=k.create(s);return n.length&&r.withBehaviors(...n),r}class ss extends ze{constructor(e,t){super(),this.behaviors=t,this.css="";const s=e.reduce(((e,t)=>("string"==typeof t?this.css+=t:e.push(t),e)),[]);s.length&&(this.styles=k.create(s))}createBehavior(){return this}createCSS(){return this.css}bind(e){this.styles&&e.$fastController.addStyles(this.styles),this.behaviors.length&&e.$fastController.addBehaviors(this.behaviors)}unbind(e){this.styles&&e.$fastController.removeStyles(this.styles),this.behaviors.length&&e.$fastController.removeBehaviors(this.behaviors)}}function ns(e,...t){const{styles:s,behaviors:n}=es(e,t);return new ss(s,n)}function rs(e){return`:host([hidden]){display:none}:host{display:${e}}`}const is=class extends Zt{handleClick(e){if(e.defaultPrevented)return;if(!(e.target instanceof Element))return!0;let t=e.target;for(;t&&!Kt(t);)t=t.parentElement,t===this&&(t=null);t&&!t.disabled&&(t.selected=!0)}}.compose({baseName:"tree-view",baseClass:Zt,template:(e,t)=>Wt`
    <template
        role="tree"
        ${Gt("treeView")}
        @keydown="${(e,t)=>e.handleKeyDown(t.event)}"
        @focusin="${(e,t)=>e.handleFocus(t.event)}"
        @focusout="${(e,t)=>e.handleBlur(t.event)}"
        @click="${(e,t)=>e.handleClick(t.event)}"
        @selected-change="${(e,t)=>e.handleSelectedChange(t.event)}"
    >
        <slot ${Yt("slottedTreeItems")}></slot>
    </template>
`,styles:(e,t)=>ts`
  ${rs("flex")} :host {
    flex-direction: column;
    align-items: stretch;
    min-width: fit-content;
    font-size: 0;
  }

  :host:focus-visible {
    outline: none;
  }
`});function os(e,t,s){(0,u.useEffect)((()=>{if(void 0!==s&&e.current&&e.current[t]!==s)try{e.current[t]=s}catch(e){console.warn(e)}}),[s,e.current])}function as(e,t,s){(0,u.useLayoutEffect)((()=>(void 0!==s&&e?.current?.addEventListener(t,s),()=>{s?.cancel&&s.cancel(),e?.current?.removeEventListener(t,s)})),[t,s,e.current])}mt().register(is());const ls=(0,u.forwardRef)(((e,t)=>{const s=(0,u.useRef)(null),{className:n,renderCollapsedNodes:r,currentSelected:i,...o}=e;return(0,u.useLayoutEffect)((()=>{s.current?.setItems()}),[s.current]),os(s,"currentSelected",e.currentSelected),(0,u.useImperativeHandle)(t,(()=>s.current),[s.current]),u.createElement("jp-tree-view",{ref:s,...o,class:e.className,exportparts:e.exportparts,for:e.htmlFor,part:e.part,tabindex:e.tabIndex,"render-collapsed-nodes":e.renderCollapsedNodes?"":void 0,style:{...e.style}},e.children)}));class cs extends Jt{constructor(e,t){super(e,t),this.observer=null,t.childList=!0}observe(){null===this.observer&&(this.observer=new MutationObserver(this.handleEvent.bind(this))),this.observer.observe(this.target,this.options)}disconnect(){this.observer.disconnect()}getNodes(){return"subtree"in this.options?Array.from(this.target.querySelectorAll(this.options.selector)):Array.from(this.target.childNodes)}}const us=e=>"function"==typeof e,hs=()=>null;function ds(e){return void 0===e?hs:us(e)?e:()=>e}function gs(e,t,s){const n=us(e)?e:()=>e,r=ds(t),i=ds(s);return(e,t)=>n(e,t)?r(e,t):i(e,t)}const fs=(0,bt.Zm)()?"focus-visible":"focus";class ps{constructor(e){this.listenerCache=new WeakMap,this.query=e}bind(e){const{query:t}=this,s=this.constructListener(e);s.bind(t)(),t.addListener(s),this.listenerCache.set(e,s)}unbind(e){const t=this.listenerCache.get(e);t&&(this.query.removeListener(t),this.listenerCache.delete(e))}}class ms extends ps{constructor(e,t){super(e),this.styles=t}static with(e){return t=>new ms(e,t)}constructListener(e){let t=!1;const s=this.styles;return function(){const{matches:n}=this;n&&!t?(e.$fastController.addStyles(s),t=n):!n&&t&&(e.$fastController.removeStyles(s),t=n)}}unbind(e){super.unbind(e),e.$fastController.removeStyles(this.styles)}}const vs=ms.with(window.matchMedia("(forced-colors)"));ms.with(window.matchMedia("(prefers-color-scheme: dark)")),ms.with(window.matchMedia("(prefers-color-scheme: light)"));var bs=s(24689),ys=s(45263),ws=s(90241),Cs=s(48934),xs=s(49386),Fs=s(61977),Vs=s(26970);function Ss(e,t){const s=e.relativeLuminance>t.relativeLuminance?e:t,n=e.relativeLuminance>t.relativeLuminance?t:e;return(s.relativeLuminance+.05)/(n.relativeLuminance+.05)}const Ds=Object.freeze({create:(e,t,s)=>new $s(e,t,s),from:e=>new $s(e.r,e.g,e.b)});class $s extends xs.h{constructor(e,t,s){super(e,t,s,1),this.toColorString=this.toStringHexRGB,this.contrast=Ss.bind(null,this),this.createCSS=this.toColorString,this.relativeLuminance=(0,Vs.hM)(this)}static fromObject(e){return new $s(e.r,e.g,e.b)}}function Os(e,t,s=0,n=e.length-1){if(n===s)return e[s];const r=Math.floor((n-s)/2)+s;return t(e[r])?Os(e,t,s,r):Os(e,t,r+1,n)}const Ts=(-.1+Math.sqrt(.21))/2;function ks(e){return e.relativeLuminance<=Ts}function Is(e){return ks(e)?-1:1}const Ns=Object.freeze({create:function(e,t,s){return"number"==typeof e?Ns.from(Ds.create(e,t,s)):Ns.from(e)},from:function(e){return function(e){const t={r:0,g:0,b:0,toColorString:()=>"",contrast:()=>0,relativeLuminance:0};for(const s in t)if(typeof t[s]!=typeof e[s])return!1;return!0}(e)?Rs.from(e):Rs.from(Ds.create(e.r,e.g,e.b))}});class Rs{constructor(e,t){this.closestIndexCache=new Map,this.source=e,this.swatches=t,this.reversedSwatches=Object.freeze([...this.swatches].reverse()),this.lastIndex=this.swatches.length-1}colorContrast(e,t,s,n){void 0===s&&(s=this.closestIndexOf(e));let r=this.swatches;const i=this.lastIndex;let o=s;return void 0===n&&(n=Is(e)),-1===n&&(r=this.reversedSwatches,o=i-o),Os(r,(s=>Ss(e,s)>=t),o,i)}get(e){return this.swatches[e]||this.swatches[(0,ws.uZ)(e,0,this.lastIndex)]}closestIndexOf(e){if(this.closestIndexCache.has(e.relativeLuminance))return this.closestIndexCache.get(e.relativeLuminance);let t=this.swatches.indexOf(e);if(-1!==t)return this.closestIndexCache.set(e.relativeLuminance,t),t;const s=this.swatches.reduce(((t,s)=>Math.abs(s.relativeLuminance-e.relativeLuminance)<Math.abs(t.relativeLuminance-e.relativeLuminance)?s:t));return t=this.swatches.indexOf(s),this.closestIndexCache.set(e.relativeLuminance,t),t}static from(e){return new Rs(e,Object.freeze(new Cs.b({baseColor:xs.h.fromObject(e)}).palette.map((e=>{const t=(0,Fs.in)(e.toStringHexRGB());return Ds.create(t.r,t.g,t.b)}))))}}const As=Ds.create(1,1,1),Es=Ds.create(0,0,0),_s=Ds.from((0,Fs.in)("#808080")),Ps=Ds.from((0,Fs.in)("#DA1A5F")),Bs=Ds.from((0,Fs.in)("#D32F2F"));function Ms(e){return Ds.create(e,e,e)}function js(e,t,s,n,r,i){return Math.max(e.closestIndexOf(Ms(t))+s,n,r,i)}const{create:Ls}=at;function Hs(e){return at.create({name:e,cssCustomPropertyName:null})}const zs=Ls("body-font").withDefault('aktiv-grotesk, "Segoe UI", Arial, Helvetica, sans-serif'),qs=Ls("base-height-multiplier").withDefault(10),Ws=(Ls("base-horizontal-spacing-multiplier").withDefault(3),Ls("base-layer-luminance").withDefault(.23)),Us=Ls("control-corner-radius").withDefault(4),Gs=Ls("density").withDefault(0),Ks=Ls("design-unit").withDefault(4),Qs=Ls("element-scale").withDefault(0),Zs=Ls("direction").withDefault(ys.N.ltr),Js=Ls("disabled-opacity").withDefault(.4),Xs=Ls("stroke-width").withDefault(1),Ys=Ls("focus-stroke-width").withDefault(2),en=Ls("type-ramp-base-font-size").withDefault("14px"),tn=Ls("type-ramp-base-line-height").withDefault("20px"),sn=(Ls("type-ramp-minus-1-font-size").withDefault("12px"),Ls("type-ramp-minus-1-line-height").withDefault("16px"),Ls("type-ramp-minus-2-font-size").withDefault("10px"),Ls("type-ramp-minus-2-line-height").withDefault("16px"),Ls("type-ramp-plus-1-font-size").withDefault("16px")),nn=(Ls("type-ramp-plus-1-line-height").withDefault("24px"),Ls("type-ramp-plus-2-font-size").withDefault("20px"),Ls("type-ramp-plus-2-line-height").withDefault("28px"),Ls("type-ramp-plus-3-font-size").withDefault("28px"),Ls("type-ramp-plus-3-line-height").withDefault("36px"),Ls("type-ramp-plus-4-font-size").withDefault("34px"),Ls("type-ramp-plus-4-line-height").withDefault("44px"),Ls("type-ramp-plus-5-font-size").withDefault("46px"),Ls("type-ramp-plus-5-line-height").withDefault("56px"),Ls("type-ramp-plus-6-font-size").withDefault("60px"),Ls("type-ramp-plus-6-line-height").withDefault("72px"),Hs("accent-fill-rest-delta").withDefault(0),Hs("accent-fill-hover-delta").withDefault(4)),rn=Hs("accent-fill-active-delta").withDefault(-5),on=Hs("accent-fill-focus-delta").withDefault(0),an=Hs("accent-foreground-rest-delta").withDefault(0),ln=Hs("accent-foreground-hover-delta").withDefault(6),cn=Hs("accent-foreground-active-delta").withDefault(-4),un=Hs("accent-foreground-focus-delta").withDefault(0),hn=Hs("neutral-fill-rest-delta").withDefault(7),dn=Hs("neutral-fill-hover-delta").withDefault(10),gn=Hs("neutral-fill-active-delta").withDefault(5),fn=Hs("neutral-fill-focus-delta").withDefault(0),pn=Hs("neutral-fill-input-rest-delta").withDefault(0),mn=Hs("neutral-fill-input-hover-delta").withDefault(0),vn=Hs("neutral-fill-input-active-delta").withDefault(0),bn=Hs("neutral-fill-input-focus-delta").withDefault(0),yn=Hs("neutral-fill-stealth-rest-delta").withDefault(0),wn=Hs("neutral-fill-stealth-hover-delta").withDefault(5),Cn=Hs("neutral-fill-stealth-active-delta").withDefault(3),xn=Hs("neutral-fill-stealth-focus-delta").withDefault(0),Fn=Hs("neutral-fill-strong-rest-delta").withDefault(0),Vn=Hs("neutral-fill-strong-hover-delta").withDefault(8),Sn=Hs("neutral-fill-strong-active-delta").withDefault(-5),Dn=Hs("neutral-fill-strong-focus-delta").withDefault(0),$n=Hs("neutral-fill-layer-rest-delta").withDefault(3),On=Hs("neutral-stroke-rest-delta").withDefault(25),Tn=Hs("neutral-stroke-hover-delta").withDefault(40),kn=Hs("neutral-stroke-active-delta").withDefault(16),In=Hs("neutral-stroke-focus-delta").withDefault(25),Nn=Hs("neutral-stroke-divider-rest-delta").withDefault(8),Rn=Ls("neutral-color").withDefault(_s),An=Hs("neutral-palette").withDefault((e=>Ns.from(Rn.getValueFor(e)))),En=Ls("accent-color").withDefault(Ps),_n=Hs("accent-palette").withDefault((e=>Ns.from(En.getValueFor(e)))),Pn=Hs("neutral-layer-card-container-recipe").withDefault({evaluate:e=>{return t=An.getValueFor(e),s=Ws.getValueFor(e),n=$n.getValueFor(e),t.get(t.closestIndexOf(Ms(s))+n);var t,s,n}}),Bn=(Ls("neutral-layer-card-container").withDefault((e=>Pn.getValueFor(e).evaluate(e))),Hs("neutral-layer-floating-recipe").withDefault({evaluate:e=>function(e,t,s){const n=e.closestIndexOf(Ms(t))-s;return e.get(n-s)}(An.getValueFor(e),Ws.getValueFor(e),$n.getValueFor(e))})),Mn=(Ls("neutral-layer-floating").withDefault((e=>Bn.getValueFor(e).evaluate(e))),Hs("neutral-layer-1-recipe").withDefault({evaluate:e=>function(e,t){return e.get(e.closestIndexOf(Ms(t)))}(An.getValueFor(e),Ws.getValueFor(e))})),jn=Ls("neutral-layer-1").withDefault((e=>Mn.getValueFor(e).evaluate(e))),Ln=Hs("neutral-layer-2-recipe").withDefault({evaluate:e=>{return t=An.getValueFor(e),s=Ws.getValueFor(e),n=$n.getValueFor(e),r=hn.getValueFor(e),i=dn.getValueFor(e),o=gn.getValueFor(e),t.get(js(t,s,n,r,i,o));var t,s,n,r,i,o}}),Hn=(Ls("neutral-layer-2").withDefault((e=>Ln.getValueFor(e).evaluate(e))),Hs("neutral-layer-3-recipe").withDefault({evaluate:e=>{return t=An.getValueFor(e),s=Ws.getValueFor(e),n=$n.getValueFor(e),r=hn.getValueFor(e),i=dn.getValueFor(e),o=gn.getValueFor(e),t.get(js(t,s,n,r,i,o)+n);var t,s,n,r,i,o}})),zn=(Ls("neutral-layer-3").withDefault((e=>Hn.getValueFor(e).evaluate(e))),Hs("neutral-layer-4-recipe").withDefault({evaluate:e=>{return t=An.getValueFor(e),s=Ws.getValueFor(e),n=$n.getValueFor(e),r=hn.getValueFor(e),i=dn.getValueFor(e),o=gn.getValueFor(e),t.get(js(t,s,n,r,i,o)+2*n);var t,s,n,r,i,o}})),qn=(Ls("neutral-layer-4").withDefault((e=>zn.getValueFor(e).evaluate(e))),Ls("fill-color").withDefault((e=>jn.getValueFor(e))));var Wn;!function(e){e[e.normal=4.5]="normal",e[e.large=7]="large"}(Wn||(Wn={}));const Un=Ls({name:"accent-fill-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>function(e,t,s,n,r,i,o,a,l){const c=e.source,u=t.closestIndexOf(s)>=Math.max(o,a,l)?-1:1,h=e.closestIndexOf(c),d=h+-1*u*n,g=d+u*r,f=d+u*i;return{rest:e.get(d),hover:e.get(h),active:e.get(g),focus:e.get(f)}}(_n.getValueFor(e),An.getValueFor(e),t||qn.getValueFor(e),nn.getValueFor(e),rn.getValueFor(e),on.getValueFor(e),hn.getValueFor(e),dn.getValueFor(e),gn.getValueFor(e))}),Gn=Ls("accent-fill-rest").withDefault((e=>Un.getValueFor(e).evaluate(e).rest)),Kn=Ls("accent-fill-hover").withDefault((e=>Un.getValueFor(e).evaluate(e).hover)),Qn=Ls("accent-fill-active").withDefault((e=>Un.getValueFor(e).evaluate(e).active)),Zn=Ls("accent-fill-focus").withDefault((e=>Un.getValueFor(e).evaluate(e).focus)),Jn=e=>(t,s)=>function(e,t){return e.contrast(As)>=t?As:Es}(s||Gn.getValueFor(t),e),Xn=Hs("foreground-on-accent-recipe").withDefault({evaluate:(e,t)=>Jn(Wn.normal)(e,t)}),Yn=(Ls("foreground-on-accent-rest").withDefault((e=>Xn.getValueFor(e).evaluate(e,Gn.getValueFor(e)))),Ls("foreground-on-accent-hover").withDefault((e=>Xn.getValueFor(e).evaluate(e,Kn.getValueFor(e)))),Ls("foreground-on-accent-active").withDefault((e=>Xn.getValueFor(e).evaluate(e,Qn.getValueFor(e)))),Ls("foreground-on-accent-focus").withDefault((e=>Xn.getValueFor(e).evaluate(e,Zn.getValueFor(e)))),Hs("foreground-on-accent-large-recipe").withDefault({evaluate:(e,t)=>Jn(Wn.large)(e,t)})),er=(Ls("foreground-on-accent-rest-large").withDefault((e=>Yn.getValueFor(e).evaluate(e,Gn.getValueFor(e)))),Ls("foreground-on-accent-hover-large").withDefault((e=>Yn.getValueFor(e).evaluate(e,Kn.getValueFor(e)))),Ls("foreground-on-accent-active-large").withDefault((e=>Yn.getValueFor(e).evaluate(e,Qn.getValueFor(e)))),Ls("foreground-on-accent-focus-large").withDefault((e=>Yn.getValueFor(e).evaluate(e,Zn.getValueFor(e)))),e=>(t,s)=>function(e,t,s,n,r,i,o){const a=e.source,l=e.closestIndexOf(a),c=Is(t),u=l+(1===c?Math.min(n,r):Math.max(c*n,c*r)),h=e.colorContrast(t,s,u,c),d=e.closestIndexOf(h),g=d+c*Math.abs(n-r);let f,p;return(1===c?n<r:c*n>c*r)?(f=d,p=g):(f=g,p=d),{rest:e.get(f),hover:e.get(p),active:e.get(f+c*i),focus:e.get(f+c*o)}}(_n.getValueFor(t),s||qn.getValueFor(t),e,an.getValueFor(t),ln.getValueFor(t),cn.getValueFor(t),un.getValueFor(t))),tr=Ls({name:"accent-foreground-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>er(Wn.normal)(e,t)}),sr=Ls("accent-foreground-rest").withDefault((e=>tr.getValueFor(e).evaluate(e).rest)),nr=(Ls("accent-foreground-hover").withDefault((e=>tr.getValueFor(e).evaluate(e).hover)),Ls("accent-foreground-active").withDefault((e=>tr.getValueFor(e).evaluate(e).active)),Ls("accent-foreground-focus").withDefault((e=>tr.getValueFor(e).evaluate(e).focus)),Ls({name:"neutral-fill-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>function(e,t,s,n,r,i){const o=e.closestIndexOf(t),a=o>=Math.max(s,n,r,i)?-1:1;return{rest:e.get(o+a*s),hover:e.get(o+a*n),active:e.get(o+a*r),focus:e.get(o+a*i)}}(An.getValueFor(e),t||qn.getValueFor(e),hn.getValueFor(e),dn.getValueFor(e),gn.getValueFor(e),fn.getValueFor(e))})),rr=Ls("neutral-fill-rest").withDefault((e=>nr.getValueFor(e).evaluate(e).rest)),ir=Ls("neutral-fill-hover").withDefault((e=>nr.getValueFor(e).evaluate(e).hover)),or=Ls("neutral-fill-active").withDefault((e=>nr.getValueFor(e).evaluate(e).active)),ar=(Ls("neutral-fill-focus").withDefault((e=>nr.getValueFor(e).evaluate(e).focus)),Ls({name:"neutral-fill-input-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>function(e,t,s,n,r,i){const o=Is(t),a=e.closestIndexOf(t);return{rest:e.get(a-o*s),hover:e.get(a-o*n),active:e.get(a-o*r),focus:e.get(a-o*i)}}(An.getValueFor(e),t||qn.getValueFor(e),pn.getValueFor(e),mn.getValueFor(e),vn.getValueFor(e),bn.getValueFor(e))})),lr=(Ls("neutral-fill-input-rest").withDefault((e=>ar.getValueFor(e).evaluate(e).rest)),Ls("neutral-fill-input-hover").withDefault((e=>ar.getValueFor(e).evaluate(e).hover)),Ls("neutral-fill-input-active").withDefault((e=>ar.getValueFor(e).evaluate(e).active)),Ls("neutral-fill-input-focus").withDefault((e=>ar.getValueFor(e).evaluate(e).focus)),Ls({name:"neutral-fill-stealth-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>function(e,t,s,n,r,i,o,a,l,c){const u=Math.max(s,n,r,i,o,a,l,c),h=e.closestIndexOf(t),d=h>=u?-1:1;return{rest:e.get(h+d*s),hover:e.get(h+d*n),active:e.get(h+d*r),focus:e.get(h+d*i)}}(An.getValueFor(e),t||qn.getValueFor(e),yn.getValueFor(e),wn.getValueFor(e),Cn.getValueFor(e),xn.getValueFor(e),hn.getValueFor(e),dn.getValueFor(e),gn.getValueFor(e),fn.getValueFor(e))})),cr=Ls("neutral-fill-stealth-rest").withDefault((e=>lr.getValueFor(e).evaluate(e).rest)),ur=Ls("neutral-fill-stealth-hover").withDefault((e=>lr.getValueFor(e).evaluate(e).hover)),hr=Ls("neutral-fill-stealth-active").withDefault((e=>lr.getValueFor(e).evaluate(e).active)),dr=(Ls("neutral-fill-stealth-focus").withDefault((e=>lr.getValueFor(e).evaluate(e).focus)),Ls({name:"neutral-fill-strong-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>function(e,t,s,n,r,i){const o=Is(t),a=e.closestIndexOf(e.colorContrast(t,4.5)),l=a+o*Math.abs(s-n);let c,u;return(1===o?s<n:o*s>o*n)?(c=a,u=l):(c=l,u=a),{rest:e.get(c),hover:e.get(u),active:e.get(c+o*r),focus:e.get(c+o*i)}}(An.getValueFor(e),t||qn.getValueFor(e),Fn.getValueFor(e),Vn.getValueFor(e),Sn.getValueFor(e),Dn.getValueFor(e))})),gr=(Ls("neutral-fill-strong-rest").withDefault((e=>dr.getValueFor(e).evaluate(e).rest)),Ls("neutral-fill-strong-hover").withDefault((e=>dr.getValueFor(e).evaluate(e).hover)),Ls("neutral-fill-strong-active").withDefault((e=>dr.getValueFor(e).evaluate(e).active)),Ls("neutral-fill-strong-focus").withDefault((e=>dr.getValueFor(e).evaluate(e).focus)),Hs("neutral-fill-layer-recipe").withDefault({evaluate:(e,t)=>function(e,t,s){const n=e.closestIndexOf(t);return e.get(n-(n<s?-1*s:s))}(An.getValueFor(e),t||qn.getValueFor(e),$n.getValueFor(e))})),fr=(Ls("neutral-fill-layer-rest").withDefault((e=>gr.getValueFor(e).evaluate(e))),Hs("focus-stroke-outer-recipe").withDefault({evaluate:e=>{return t=An.getValueFor(e),s=qn.getValueFor(e),t.colorContrast(s,3.5);var t,s}})),pr=Ls("focus-stroke-outer").withDefault((e=>fr.getValueFor(e).evaluate(e))),mr=Hs("focus-stroke-inner-recipe").withDefault({evaluate:e=>{return t=_n.getValueFor(e),s=qn.getValueFor(e),n=pr.getValueFor(e),t.colorContrast(n,3.5,t.closestIndexOf(t.source),-1*Is(s));var t,s,n}}),vr=(Ls("focus-stroke-inner").withDefault((e=>mr.getValueFor(e).evaluate(e))),Hs("neutral-foreground-hint-recipe").withDefault({evaluate:e=>{return t=An.getValueFor(e),s=qn.getValueFor(e),t.colorContrast(s,4.5);var t,s}})),br=(Ls("neutral-foreground-hint").withDefault((e=>vr.getValueFor(e).evaluate(e))),Hs("neutral-foreground-recipe").withDefault({evaluate:e=>{return t=An.getValueFor(e),s=qn.getValueFor(e),t.colorContrast(s,14);var t,s}})),yr=Ls("neutral-foreground-rest").withDefault((e=>br.getValueFor(e).evaluate(e))),wr=Ls({name:"neutral-stroke-recipe",cssCustomPropertyName:null}).withDefault({evaluate:e=>function(e,t,s,n,r,i){const o=e.closestIndexOf(t),a=Is(t),l=o+a*s,c=l+a*(n-s),u=l+a*(r-s),h=l+a*(i-s);return{rest:e.get(l),hover:e.get(c),active:e.get(u),focus:e.get(h)}}(An.getValueFor(e),qn.getValueFor(e),On.getValueFor(e),Tn.getValueFor(e),kn.getValueFor(e),In.getValueFor(e))}),Cr=(Ls("neutral-stroke-rest").withDefault((e=>wr.getValueFor(e).evaluate(e).rest)),Ls("neutral-stroke-hover").withDefault((e=>wr.getValueFor(e).evaluate(e).hover)),Ls("neutral-stroke-active").withDefault((e=>wr.getValueFor(e).evaluate(e).active)),Ls("neutral-stroke-focus").withDefault((e=>wr.getValueFor(e).evaluate(e).focus)),Hs("neutral-stroke-divider-recipe").withDefault({evaluate:(e,t)=>function(e,t,s){return e.get(e.closestIndexOf(t)+Is(t)*s)}(An.getValueFor(e),t||qn.getValueFor(e),Nn.getValueFor(e))})),xr=(Ls("neutral-stroke-divider-rest").withDefault((e=>Cr.getValueFor(e).evaluate(e))),at.create({name:"height-number",cssCustomPropertyName:null}).withDefault((e=>(qs.getValueFor(e)+Gs.getValueFor(e))*Ks.getValueFor(e))),Ls("error-color").withDefault(Bs)),Fr=Hs("error-palette").withDefault((e=>Ns.from(xr.getValueFor(e)))),Vr=Ls({name:"error-fill-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>function(e,t,s,n,r,i,o,a,l){const c=e.source,u=t.closestIndexOf(s)>=Math.max(o,a,l)?-1:1,h=e.closestIndexOf(c),d=h+-1*u*n,g=d+u*r,f=d+u*i;return{rest:e.get(d),hover:e.get(h),active:e.get(g),focus:e.get(f)}}(Fr.getValueFor(e),An.getValueFor(e),t||qn.getValueFor(e),nn.getValueFor(e),rn.getValueFor(e),on.getValueFor(e),hn.getValueFor(e),dn.getValueFor(e),gn.getValueFor(e))}),Sr=Ls("error-fill-rest").withDefault((e=>Vr.getValueFor(e).evaluate(e).rest)),Dr=Ls("error-fill-hover").withDefault((e=>Vr.getValueFor(e).evaluate(e).hover)),$r=Ls("error-fill-active").withDefault((e=>Vr.getValueFor(e).evaluate(e).active)),Or=Ls("error-fill-focus").withDefault((e=>Vr.getValueFor(e).evaluate(e).focus)),Tr=e=>(t,s)=>function(e,t){return e.contrast(As)>=t?As:Es}(s||Sr.getValueFor(t),e),kr=Ls({name:"foreground-on-error-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>Tr(Wn.normal)(e,t)}),Ir=(Ls("foreground-on-error-rest").withDefault((e=>kr.getValueFor(e).evaluate(e,Sr.getValueFor(e)))),Ls("foreground-on-error-hover").withDefault((e=>kr.getValueFor(e).evaluate(e,Dr.getValueFor(e)))),Ls("foreground-on-error-active").withDefault((e=>kr.getValueFor(e).evaluate(e,$r.getValueFor(e)))),Ls("foreground-on-error-focus").withDefault((e=>kr.getValueFor(e).evaluate(e,Or.getValueFor(e)))),Ls({name:"foreground-on-error-large-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>Tr(Wn.large)(e,t)})),Nr=(Ls("foreground-on-error-rest-large").withDefault((e=>Ir.getValueFor(e).evaluate(e,Sr.getValueFor(e)))),Ls("foreground-on-error-hover-large").withDefault((e=>Ir.getValueFor(e).evaluate(e,Dr.getValueFor(e)))),Ls("foreground-on-error-active-large").withDefault((e=>Ir.getValueFor(e).evaluate(e,$r.getValueFor(e)))),Ls("foreground-on-error-focus-large").withDefault((e=>Ir.getValueFor(e).evaluate(e,Or.getValueFor(e)))),e=>(t,s)=>function(e,t,s,n,r,i,o){const a=e.source,l=e.closestIndexOf(a),c=ks(t)?-1:1,u=l+(1===c?Math.min(n,r):Math.max(c*n,c*r)),h=e.colorContrast(t,s,u,c),d=e.closestIndexOf(h),g=d+c*Math.abs(n-r);let f,p;return(1===c?n<r:c*n>c*r)?(f=d,p=g):(f=g,p=d),{rest:e.get(f),hover:e.get(p),active:e.get(f+c*i),focus:e.get(f+c*o)}}(Fr.getValueFor(t),s||qn.getValueFor(t),e,an.getValueFor(t),ln.getValueFor(t),cn.getValueFor(t),un.getValueFor(t))),Rr=Ls({name:"error-foreground-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>Nr(Wn.normal)(e,t)}),Ar=(Ls("error-foreground-rest").withDefault((e=>Rr.getValueFor(e).evaluate(e).rest)),Ls("error-foreground-hover").withDefault((e=>Rr.getValueFor(e).evaluate(e).hover)),Ls("error-foreground-active").withDefault((e=>Rr.getValueFor(e).evaluate(e).active)),Ls("error-foreground-focus").withDefault((e=>Rr.getValueFor(e).evaluate(e).focus)),ns`(${qs} + ${Gs} + ${Qs}) * ${Ks}`);class Er{constructor(e,t){this.cache=new WeakMap,this.ltr=e,this.rtl=t}bind(e){this.attach(e)}unbind(e){const t=this.cache.get(e);t&&Zs.unsubscribe(t)}attach(e){const t=this.cache.get(e)||new _r(this.ltr,this.rtl,e),s=Zs.getValueFor(e);Zs.subscribe(t),t.attach(s),this.cache.set(e,t)}}class _r{constructor(e,t,s){this.ltr=e,this.rtl=t,this.source=s,this.attached=null}handleChange({target:e,token:t}){this.attach(t.getValueFor(e))}attach(e){this.attached!==this[e]&&(null!==this.attached&&this.source.$fastController.removeStyles(this.attached),this.attached=this[e],null!==this.attached&&this.source.$fastController.addStyles(this.attached))}}const Pr=ns`(((${qs} + ${Gs}) * 0.5 + 2) * ${Ks})`,Br=ts`
  .expand-collapse-glyph {
    transform: rotate(0deg);
  }
  :host(.nested) .expand-collapse-button {
    left: var(
      --expand-collapse-button-nested-width,
      calc(
        (
            ${Pr} +
              ((${qs} + ${Gs}) * 1.25)
          ) * -1px
      )
    );
  }
  :host([selected])::after {
    left: calc(${Ys} * 1px);
  }
  :host([expanded]) > .positioning-region .expand-collapse-glyph {
    transform: rotate(90deg);
  }
`,Mr=ts`
  .expand-collapse-glyph {
    transform: rotate(180deg);
  }
  :host(.nested) .expand-collapse-button {
    right: var(
      --expand-collapse-button-nested-width,
      calc(
        (
            ${Pr} +
              ((${qs} + ${Gs}) * 1.25)
          ) * -1px
      )
    );
  }
  :host([selected])::after {
    right: calc(${Ys} * 1px);
  }
  :host([expanded]) > .positioning-region .expand-collapse-glyph {
    transform: rotate(90deg);
  }
`,jr=at.create("tree-item-expand-collapse-hover").withDefault((e=>{const t=lr.getValueFor(e);return t.evaluate(e,t.evaluate(e).hover).hover})),Lr=at.create("tree-item-expand-collapse-selected-hover").withDefault((e=>{const t=nr.getValueFor(e);return lr.getValueFor(e).evaluate(e,t.evaluate(e).rest).hover})),Hr=class extends Qt{}.compose({baseName:"tree-item",baseClass:Qt,template:(e,t)=>{return Wt`
    <template
        role="treeitem"
        slot="${e=>e.isNestedItem()?"item":void 0}"
        tabindex="-1"
        class="${e=>e.expanded?"expanded":""} ${e=>e.selected?"selected":""} ${e=>e.nested?"nested":""}
            ${e=>e.disabled?"disabled":""}"
        aria-expanded="${e=>e.childItems&&e.childItemLength()>0?e.expanded:void 0}"
        aria-selected="${e=>e.selected}"
        aria-disabled="${e=>e.disabled}"
        @focusin="${(e,t)=>e.handleFocus(t.event)}"
        @focusout="${(e,t)=>e.handleBlur(t.event)}"
        ${s={property:"childItems",filter:function(e,t,s){return 1===e.nodeType}},"string"==typeof s&&(s={property:s}),new Ct("fast-children",cs,s)}
    >
        <div class="positioning-region" part="positioning-region">
            <div class="content-region" part="content-region">
                ${gs((e=>e.childItems&&e.childItemLength()>0),Wt`
                        <div
                            aria-hidden="true"
                            class="expand-collapse-button"
                            part="expand-collapse-button"
                            @click="${(e,t)=>e.handleExpandCollapseButtonClick(t.event)}"
                            ${Gt("expandCollapseButton")}
                        >
                            <slot name="expand-collapse-glyph">
                                ${t.expandCollapseGlyph||""}
                            </slot>
                        </div>
                    `)}
                ${((e,t)=>Wt`
    <span
        part="start"
        ${Gt("startContainer")}
        class="${e=>t.start?"start":void 0}"
    >
        <slot
            name="start"
            ${Gt("start")}
            @slotchange="${e=>e.handleStartContentChange()}"
        >
            ${t.start||""}
        </slot>
    </span>
`)(0,t)}
                <slot></slot>
                ${((e,t)=>Wt`
    <span
        part="end"
        ${Gt("endContainer")}
        class=${e=>t.end?"end":void 0}
    >
        <slot name="end" ${Gt("end")} @slotchange="${e=>e.handleEndContentChange()}">
            ${t.end||""}
        </slot>
    </span>
`)(0,t)}
            </div>
        </div>
        ${gs((e=>e.childItems&&e.childItemLength()>0&&(e.expanded||e.renderCollapsedChildren)),Wt`
                <div role="group" class="items" part="items">
                    <slot name="item" ${Yt("items")}></slot>
                </div>
            `)}
    </template>
`;var s},styles:(e,t)=>ts`
    /**
     * This animation exists because when tree item children are conditionally loaded
     * there is a visual bug where the DOM exists but styles have not yet been applied (essentially FOUC).
     * This subtle animation provides a ever so slight timing adjustment for loading that solves the issue.
     */
    @keyframes treeItemLoading {
      0% {
        opacity: 0;
      }
      100% {
        opacity: 1;
      }
    }

    ${rs("block")} :host {
      contain: content;
      position: relative;
      outline: none;
      color: ${yr};
      background: ${cr};
      cursor: pointer;
      font-family: ${zs};
      --tree-item-nested-width: 0;
    }

    :host(:focus) > .positioning-region {
      outline: none;
    }

    :host(:focus) .content-region {
      outline: none;
    }

    :host(:${fs}) .positioning-region {
      border-color: ${Zn};
      box-shadow: 0 0 0 calc((${Ys} - ${Xs}) * 1px)
        ${Zn} inset;
      color: ${yr};
    }

    .positioning-region {
      display: flex;
      position: relative;
      box-sizing: border-box;
      background: ${cr};
      border: transparent calc(${Xs} * 1px) solid;
      border-radius: calc(${Us} * 1px);
      height: calc((${Ar} + 1) * 1px);
    }

    .positioning-region::before {
      content: '';
      display: block;
      width: var(--tree-item-nested-width);
      flex-shrink: 0;
    }

    :host(:not([disabled])) .positioning-region:hover {
      background: ${ur};
    }

    :host(:not([disabled])) .positioning-region:active {
      background: ${hr};
    }

    .content-region {
      display: inline-flex;
      align-items: center;
      white-space: nowrap;
      width: 100%;
      min-width: 0;
      height: calc(${Ar} * 1px);
      margin-inline-start: calc(${Ks} * 2px + 8px);
      font-size: ${en};
      line-height: ${tn};
      font-weight: 400;
    }

    .items {
      /* TODO: adaptive typography https://github.com/microsoft/fast/issues/2432 */
      font-size: calc(1em + (${Ks} + 16) * 1px);
    }

    .expand-collapse-button {
      background: none;
      border: none;
      outline: none;
      /* TODO: adaptive typography https://github.com/microsoft/fast/issues/2432 */
      width: calc(${Pr} * 1px);
      height: calc(${Pr} * 1px);
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      margin-left: 6px;
      margin-right: 6px;
    }

    .expand-collapse-glyph {
      /* TODO: adaptive typography https://github.com/microsoft/fast/issues/2432 */
      width: calc((16 + ${Gs}) * 1px);
      height: calc((16 + ${Gs}) * 1px);
      transition: transform 0.1s linear;

      pointer-events: none;
      fill: currentcolor;
    }

    .start,
    .end {
      display: flex;
      fill: currentcolor;
    }

    ::slotted(svg) {
      /* TODO: adaptive typography https://github.com/microsoft/fast/issues/2432 */
      width: 16px;
      height: 16px;

      /* Something like that would do if the typography is adaptive
      font-size: inherit;
      width: ${sn};
      height: ${sn};
      */
    }

    .start {
      /* TODO: horizontalSpacing https://github.com/microsoft/fast/issues/2766 */
      margin-inline-end: calc(${Ks} * 2px + 2px);
    }

    .end {
      /* TODO: horizontalSpacing https://github.com/microsoft/fast/issues/2766 */
      margin-inline-start: calc(${Ks} * 2px + 2px);
    }

    :host([expanded]) > .items {
      animation: treeItemLoading ease-in 10ms;
      animation-iteration-count: 1;
      animation-fill-mode: forwards;
    }

    :host([disabled]) .content-region {
      opacity: ${Js};
      cursor: ${"not-allowed"};
    }

    :host(.nested) .content-region {
      position: relative;
      /* Add left margin to collapse button size */
      margin-inline-start: calc(
        (
            ${Pr} +
              ((${qs} + ${Gs}) * 1.25)
          ) * 1px
      );
    }

    :host(.nested) .expand-collapse-button {
      position: absolute;
    }

    :host(.nested:not([disabled])) .expand-collapse-button:hover {
      background: ${jr};
    }

    :host([selected]) .positioning-region {
      background: ${rr};
    }

    :host([selected]:not([disabled])) .positioning-region:hover {
      background: ${ir};
    }

    :host([selected]:not([disabled])) .positioning-region:active {
      background: ${or};
    }

    :host([selected]:not([disabled])) .expand-collapse-button:hover {
      background: ${Lr};
    }

    :host([selected])::after {
      /* The background needs to be calculated based on the selected background state
         for this control. We currently have no way of changing that, so setting to
         accent-foreground-rest for the time being */
      background: ${sr};
      border-radius: calc(${Us} * 1px);
      content: '';
      display: block;
      position: absolute;
      top: calc((${Ar} / 4) * 1px);
      width: 3px;
      height: calc((${Ar} / 2) * 1px);
    }

    ::slotted(${e.tagFor(Qt)}) {
      --tree-item-nested-width: 1em;
      --expand-collapse-button-nested-width: calc(
        (
            ${Pr} +
              ((${qs} + ${Gs}) * 1.25)
          ) * -1px
      );
    }
  `.withBehaviors(new Er(Br,Mr),vs(ts`
      :host {
        forced-color-adjust: none;
        border-color: transparent;
        background: ${bs.H.Field};
        color: ${bs.H.FieldText};
      }
      :host .content-region .expand-collapse-glyph {
        fill: ${bs.H.FieldText};
      }
      :host .positioning-region:hover,
      :host([selected]) .positioning-region {
        background: ${bs.H.Highlight};
      }
      :host .positioning-region:hover .content-region,
      :host([selected]) .positioning-region .content-region {
        color: ${bs.H.HighlightText};
      }
      :host .positioning-region:hover .content-region .expand-collapse-glyph,
      :host .positioning-region:hover .content-region .start,
      :host .positioning-region:hover .content-region .end,
      :host([selected]) .content-region .expand-collapse-glyph,
      :host([selected]) .content-region .start,
      :host([selected]) .content-region .end {
        fill: ${bs.H.HighlightText};
      }
      :host([selected])::after {
        background: ${bs.H.Field};
      }
      :host(:${fs}) .positioning-region {
        border-color: ${bs.H.FieldText};
        box-shadow: 0 0 0 2px inset ${bs.H.Field};
        color: ${bs.H.FieldText};
      }
      :host([disabled]) .content-region,
      :host([disabled]) .positioning-region:hover .content-region {
        opacity: 1;
        color: ${bs.H.GrayText};
      }
      :host([disabled]) .content-region .expand-collapse-glyph,
      :host([disabled]) .content-region .start,
      :host([disabled]) .content-region .end,
      :host([disabled])
        .positioning-region:hover
        .content-region
        .expand-collapse-glyph,
      :host([disabled]) .positioning-region:hover .content-region .start,
      :host([disabled]) .positioning-region:hover .content-region .end {
        fill: ${bs.H.GrayText};
      }
      :host([disabled]) .positioning-region:hover {
        background: ${bs.H.Field};
      }
      .expand-collapse-glyph,
      .start,
      .end {
        fill: ${bs.H.FieldText};
      }
      :host(.nested) .expand-collapse-button:hover {
        background: ${bs.H.Field};
      }
      :host(.nested) .expand-collapse-button:hover .expand-collapse-glyph {
        fill: ${bs.H.FieldText};
      }
    `)),expandCollapseGlyph:'\n        <svg\n            viewBox="0 0 16 16"\n            xmlns="http://www.w3.org/2000/svg"\n            class="expand-collapse-glyph"\n        >\n            <path\n                d="M5.00001 12.3263C5.00124 12.5147 5.05566 12.699 5.15699 12.8578C5.25831 13.0167 5.40243 13.1437 5.57273 13.2242C5.74304 13.3047 5.9326 13.3354 6.11959 13.3128C6.30659 13.2902 6.4834 13.2152 6.62967 13.0965L10.8988 8.83532C11.0739 8.69473 11.2153 8.51658 11.3124 8.31402C11.4096 8.11146 11.46 7.88966 11.46 7.66499C11.46 7.44033 11.4096 7.21853 11.3124 7.01597C11.2153 6.81341 11.0739 6.63526 10.8988 6.49467L6.62967 2.22347C6.48274 2.10422 6.30501 2.02912 6.11712 2.00691C5.92923 1.9847 5.73889 2.01628 5.56823 2.09799C5.39757 2.17969 5.25358 2.30817 5.153 2.46849C5.05241 2.62882 4.99936 2.8144 5.00001 3.00369V12.3263Z"\n            />\n        </svg>\n    '});mt().register(Hr());const zr=(0,u.forwardRef)(((e,t)=>{const s=(0,u.useRef)(null),{className:n,expanded:r,selected:i,disabled:o,...a}=e;as(s,"expanded-change",e.onExpand),as(s,"selected-change",e.onSelect),os(s,"expanded",e.expanded),os(s,"selected",e.selected),os(s,"disabled",e.disabled),(0,u.useImperativeHandle)(t,(()=>s.current),[s.current]);let l=n??"";return s.current?.nested&&(l+=" nested"),u.createElement("jp-tree-item",{ref:s,...a,class:l.trim(),exportparts:e.exportparts,for:e.htmlFor,part:e.part,tabindex:e.tabIndex,style:{...e.style}},e.children)}));class qr extends u.PureComponent{render(){const{children:e,isActive:t,heading:s,onCollapse:n,onMouseDown:r}=this.props;return u.createElement(zr,{className:"jp-tocItem jp-TreeItem nested",selected:t,expanded:!s.collapsed,onExpand:e=>{e.defaultPrevented||e.target.expanded===!s.collapsed||(e.preventDefault(),n(s))},onMouseDown:e=>{e.defaultPrevented||(e.preventDefault(),r(s))},onKeyUp:e=>{e.defaultPrevented||"Enter"!==e.key||t||(e.preventDefault(),r(s))}},u.createElement("div",{className:"jp-tocItem-heading"},u.createElement("span",{className:"jp-tocItem-content",title:s.text,...s.dataset},s.prefix,s.text)),e)}}class Wr extends u.PureComponent{render(){const{documentType:e}=this.props;return u.createElement(ls,{className:"jp-TableOfContents-content jp-TreeView","data-document-type":e},this.buildTree())}buildTree(){if(0===this.props.headings.length)return[];const e=t=>{const s=this.props.headings,n=new Array,r=s[t];let i=t+1;for(;i<s.length&&!(s[i].level<=r.level);){const[t,s]=e(i);n.push(t),i=s}return[u.createElement(qr,{key:`${r.level}-${t}-${r.text}`,isActive:!!this.props.activeHeading&&r===this.props.activeHeading,heading:r,onMouseDown:this.props.setActiveHeading,onCollapse:this.props.onCollapseChange},n.length?n:null),i]},t=new Array;let s=0;for(;s<this.props.headings.length;){const[n,r]=e(s);t.push(n),s=r}return t}}class Ur extends c.UB{constructor(e){super(e.model),this._placeholderHeadline=e.placeholderHeadline,this._placeholderText=e.placeholderText}render(){return this.model&&0!==this.model.headings.length?u.createElement(Wr,{activeHeading:this.model.activeHeading,documentType:this.model.documentType,headings:this.model.headings,onCollapseChange:e=>{this.model.toggleCollapse({heading:e})},setActiveHeading:e=>{this.model.setActiveHeading(e)}}):u.createElement("div",{className:"jp-TableOfContents-placeholder"},u.createElement("div",{className:"jp-TableOfContents-placeholderContent"},u.createElement("h3",null,this._placeholderHeadline),u.createElement("p",null,this._placeholderText)))}}class Gr extends a.h{constructor(e){super({content:new l.s_,translator:e}),this._model=null,this.addClass("jp-TableOfContents"),this._title=new Kr.Header(this._trans.__("Table of Contents")),this.header.addWidget(this._title),this._treeview=new Ur({placeholderHeadline:this._trans.__("No Headings"),placeholderText:this._trans.__("The table of contents shows headings in notebooks and supported files.")}),this._treeview.addClass("jp-TableOfContents-tree"),this.content.addWidget(this._treeview)}get model(){return this._model}set model(e){var t,s;this._model!==e&&(null===(t=this._model)||void 0===t||t.stateChanged.disconnect(this._onTitleChanged,this),this._model=e,this._model&&(this._model.isActive=this.isVisible),null===(s=this._model)||void 0===s||s.stateChanged.connect(this._onTitleChanged,this),this._onTitleChanged(),this._treeview.model=this._model)}onAfterHide(e){super.onAfterHide(e),this._model&&(this._model.isActive=!1)}onBeforeShow(e){super.onBeforeShow(e),this._model&&(this._model.isActive=!0)}_onTitleChanged(){var e,t;this._title.setTitle(null!==(t=null===(e=this._model)||void 0===e?void 0:e.title)&&void 0!==t?t:this._trans.__("Table of Contents"))}}var Kr;!function(e){class t extends l.$L{constructor(e){const t=document.createElement("h2");t.textContent=e,t.classList.add("jp-text-truncated"),super({node:t}),this._title=t}setTitle(e){this._title.textContent=e}}e.Header=t}(Kr||(Kr={}));class Qr{constructor(){this.modelMapping=new WeakMap}add(e,t){this.modelMapping.set(e,t)}get(e){const t=this.modelMapping.get(e);return!t||t.isDisposed?null:t}}var Zr=s(33153);class Jr{constructor(){this._generators=new Map,this._idCounter=0}getModel(e,t){for(const s of this._generators.values())if(s.isApplicable(e))return s.createNew(e,t)}add(e){const t=this._idCounter++;return this._generators.set(t,e),new Zr.DisposableDelegate((()=>{this._generators.delete(t)}))}}var Xr,Yr=s(6972),ei=s(92157),ti=s(60946),si=s(73962);!function(e){e.displayNumbering="toc:display-numbering",e.displayH1Numbering="toc:display-h1-numbering",e.displayOutputNumbering="toc:display-outputs-numbering",e.showPanel="toc:show-panel",e.toggleCollapse="toc:toggle-collapse"}(Xr||(Xr={}));const ni={id:"@jupyterlab/toc-extension:registry",description:"Provides the table of contents registry.",autoStart:!0,provides:o.wk,activate:()=>new Jr},ri={id:"@jupyterlab/toc-extension:tracker",description:"Adds the table of content widget and provides its tracker.",autoStart:!0,provides:o.Ol,requires:[o.wk],optional:[Yr.gv,n.L,r.r,i.O],activate:async function(e,t,s,n,r,i){const a=(null!=s?s:Yr.Sr).load("jupyterlab");let l={...o.o5.defaultConfig};const c=new Gr(null!=s?s:void 0);function u(e){return e.headings.some((e=>{var t;return!(null!==(t=e.collapsed)&&void 0!==t&&t)}))}c.title.icon=ei.yv,c.title.caption=a.__("Table of Contents"),c.id="table-of-contents",c.node.setAttribute("role","region"),c.node.setAttribute("aria-label",a.__("Table of Contents section")),e.commands.addCommand(Xr.displayH1Numbering,{label:a.__("Show first-level heading number"),execute:()=>{c.model&&c.model.setConfiguration({numberingH1:!c.model.configuration.numberingH1})},isEnabled:()=>{var e,t;return null!==(t=null===(e=c.model)||void 0===e?void 0:e.supportedOptions.includes("numberingH1"))&&void 0!==t&&t},isToggled:()=>{var e,t;return null!==(t=null===(e=c.model)||void 0===e?void 0:e.configuration.numberingH1)&&void 0!==t&&t}}),e.commands.addCommand(Xr.displayNumbering,{label:a.__("Show heading number in the document"),icon:e=>e.toolbar?ei.SZ:void 0,execute:()=>{c.model&&(c.model.setConfiguration({numberHeaders:!c.model.configuration.numberHeaders}),e.commands.notifyCommandChanged(Xr.displayNumbering))},isEnabled:()=>{var e,t;return null!==(t=null===(e=c.model)||void 0===e?void 0:e.supportedOptions.includes("numberHeaders"))&&void 0!==t&&t},isToggled:()=>{var e,t;return null!==(t=null===(e=c.model)||void 0===e?void 0:e.configuration.numberHeaders)&&void 0!==t&&t}}),e.commands.addCommand(Xr.displayOutputNumbering,{label:a.__("Show output headings"),execute:()=>{c.model&&c.model.setConfiguration({includeOutput:!c.model.configuration.includeOutput})},isEnabled:()=>{var e,t;return null!==(t=null===(e=c.model)||void 0===e?void 0:e.supportedOptions.includes("includeOutput"))&&void 0!==t&&t},isToggled:()=>{var e,t;return null!==(t=null===(e=c.model)||void 0===e?void 0:e.configuration.includeOutput)&&void 0!==t&&t}}),e.commands.addCommand(Xr.showPanel,{label:a.__("Table of Contents"),execute:()=>{e.shell.activateById(c.id)}}),e.commands.addCommand(Xr.toggleCollapse,{label:()=>c.model&&!u(c.model)?a.__("Expand All Headings"):a.__("Collapse All Headings"),icon:e=>e.toolbar?c.model&&!u(c.model)?ei.L3:ei.tK:void 0,execute:()=>{c.model&&(u(c.model)?c.model.toggleCollapse({collapsed:!0}):c.model.toggleCollapse({collapsed:!1}))},isEnabled:()=>null!==c.model});const h=new Qr;let d;if(n&&n.add(c,"@jupyterlab/toc:plugin"),i)try{d=await i.load(ni.id);const t=t=>{const s=t.composite;for(const e of[...Object.keys(l)]){const t=s[e];void 0!==t&&(l[e]=t)}if(r)for(const e of r.widgets("main")){const t=h.get(e);t&&t.setConfiguration(l)}else if(e.shell.currentWidget){const t=h.get(e.shell.currentWidget);t&&t.setConfiguration(l)}};d&&(d.changed.connect(t),t(d))}catch(e){console.error(`Failed to load settings for the Table of Contents extension.\n\n${e}`)}const g=new ti.oR({commands:e.commands,id:Xr.displayNumbering,args:{toolbar:!0},label:""});g.addClass("jp-toc-numberingButton"),c.toolbar.addItem("display-numbering",g),c.toolbar.addItem("spacer",ti.o8.createSpacerItem()),c.toolbar.addItem("collapse-all",new ti.oR({commands:e.commands,id:Xr.toggleCollapse,args:{toolbar:!0},label:""}));const f=new si.q({commands:e.commands});f.addItem({command:Xr.displayH1Numbering}),f.addItem({command:Xr.displayOutputNumbering});const p=new ti.hA({tooltip:a.__("More actions"),icon:ei.uW,noFocusOnClick:!1,onClick:()=>{const e=p.node.getBoundingClientRect();f.open(e.x,e.bottom)}});return c.toolbar.addItem("submenu",p),e.shell.add(c,"left",{rank:400,type:"Table of Contents"}),r&&r.currentChanged.connect(m),e.restored.then((()=>{m()})),h;function m(){var s;let n=e.shell.currentWidget;if(!n)return;let r=h.get(n);r||(r=null!==(s=t.getModel(n,l))&&void 0!==s?s:null,r&&h.add(n,r),n.disposed.connect((()=>{null==r||r.dispose()}))),c.model&&(c.model.headingsChanged.disconnect(v),c.model.collapseChanged.disconnect(v)),c.model=r,c.model&&(c.model.headingsChanged.connect(v),c.model.collapseChanged.connect(v)),e.commands.notifyCommandChanged(Xr.displayNumbering),e.commands.notifyCommandChanged(Xr.toggleCollapse)}function v(){e.commands.notifyCommandChanged(Xr.toggleCollapse)}}},ii=[ni,ri]}}]);