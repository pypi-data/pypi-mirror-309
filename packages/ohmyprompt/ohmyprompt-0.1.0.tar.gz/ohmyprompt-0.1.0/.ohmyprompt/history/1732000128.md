# 项目分析报告

## 分析时间
2024-11-19 15:08:48

## 文件结构
```filetree
README.md
function_dependencies.svg
index.py
package-lock.json
package.json
prompt.md
pyproject.toml
requirements-dev.lock
requirements.lock
scripts/
└─ build-ui.sh
src/
└─ ohmyprompt/
    ├─ cli.py
    ├─ core/
        └─ tools/
            ├─ base.py
            ├─ mypy_tool.py
            ├─ project_tools.py
            ├─ radon_tool.py
            └─ ruff_tool.py
    ├─ services/
        └─ config_service.py
    ├─ templates/
        └─ report_template.md
    ├─ utils/
        ├─ config_utils.py
        ├─ file_utils.py
        ├─ formatters/
            ├─ base.py
            ├─ formatter_factory.py
            ├─ mypy_formatter.py
            ├─ radon_formatter.py
            └─ ruff_formatter.py
        ├─ report_manager.py
        └─ shell_utils.py
    └─ web/
        ├─ api/
            ├─ config.py
            ├─ exclude.py
            └─ history.py
        ├─ app.py
        ├─ config/
            ├─ manager.py
            ├─ mypy_config.py
            ├─ radon_config.py
            └─ ruff_config.py
        ├─ config_types.py
        ├─ reports/
            └─ web_report_manager.py
        ├─ static/
            └─ css/
                └─ style.css
        └─ templates/
            └─ index.html
ui/
├─ README.md
├─ bun.lockb
├─ components.json
├─ eslint.config.js
├─ index.html
├─ package-lock.json
├─ package.json
├─ postcss.config.js
├─ public/
    └─ vite.svg
├─ scripts/
    └─ install-components.sh
├─ src/
    ├─ App.css
    ├─ App.tsx
    ├─ assets/
        └─ react.svg
    ├─ components/
        ├─ SelectItemWithTooltip.tsx
        ├─ history/
            └─ HistoryItem.tsx
        ├─ settings/
            ├─ ExcludePatterns.tsx
            └─ IntervalConfig.tsx
        ├─ tools/
            ├─ ToolCard.tsx
            ├─ ToolCommandDialog.tsx
            └─ ToolConfigDialog.tsx
        └─ ui/
            ├─ badge.tsx
            ├─ button.tsx
            ├─ card.tsx
            ├─ dialog.tsx
            ├─ input.tsx
            ├─ mermaid.tsx
            ├─ select.tsx
            ├─ separator.tsx
            ├─ sheet.tsx
            ├─ sidebar.tsx
            ├─ skeleton.tsx
            ├─ sonner.tsx
            ├─ switch.tsx
            ├─ toggle-group.tsx
            ├─ toggle.tsx
            └─ tooltip.tsx
    ├─ hooks/
        └─ use-mobile.tsx
    ├─ index.css
    ├─ layouts/
        └─ RootLayout.tsx
    ├─ lib/
        ├─ api.ts
        ├─ markdown.ts
        ├─ themes.ts
        └─ utils.ts
    ├─ main.tsx
    ├─ pages/
        ├─ HistoryPage.tsx
        ├─ HomePage.tsx
        └─ SettingsPage.tsx
    ├─ styles/
        └─ globals.css
    ├─ types/
        ├─ event.d.ts
        ├─ index.ts
        └─ mermaid.d.ts
    ├─ types.ts
    └─ vite-env.d.ts
├─ tailwind.config.js
├─ tsconfig.app.json
├─ tsconfig.json
├─ tsconfig.node.json
└─ vite.config.ts
```

## 类型检查结果
状态: error

详细:
```
src/ohmyprompt/web/api/history.py: note: In function "init_history":
src/ohmyprompt/web/api/history.py:12:5: error: Name "_web_report_manager" is
not defined  [name-defined]
        _web_report_manager = WebReportManager(history_dir)
        ^
src/ohmyprompt/web/api/history.py: note: In function "get_history_list":
src/ohmyprompt/web/api/history.py:21:12: error: Name "_web_report_manager" is
not defined  [name-defined]
        if not _web_report_manager:
               ^
src/ohmyprompt/web/api/history.py:23:12: error: Name "_web_report_manager" is
not defined  [name-defined]
        return _web_report_manager.get_reports()
               ^
src/ohmyprompt/web/api/history.py: note: In function "delete_history":
src/ohmyprompt/web/api/history.py:29:12: error: Name "_web_report_manager" is
not defined  [name-defined]
        if not _web_report_manager:
               ^
src/ohmyprompt/web/api/history.py:32:9: error: Name "_web_report_manager" is
not defined  [name-defined]
            _web_report_manager.remove_report(history_id)
            ^
Found 5 errors in 1 file (checked 33 source files)
```


## Ruff 代码检查
状态: ok

### 详细错误
```text
- []
```

### 其他信息
代码检查完成

## 代码复杂度分析
状态: ok

### 圈复杂度分析
#### 摘要
- 平均复杂度: N/A
- 总体平均复杂度: N/A
- 总函数数量: 0

### 可维护性指标
#### 摘要
- 平均可维护性指标: 0
- 分析的文件数: 41

所有文件的可维护性指标良好 (rank A)