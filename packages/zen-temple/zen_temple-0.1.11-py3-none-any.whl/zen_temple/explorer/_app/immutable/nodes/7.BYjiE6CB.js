import{s as kt,e as C,a as O,t as Qe,c as E,b as G,g as z,d as We,f as b,o as w,i as S,h as y,A as lt,j as yt,n as Me,C as Vt,H as Tt,G as St,r as U,m as fe,v as $e,w as J,B as Lt,F as et,x as nt}from"../chunks/scheduler.BVk0_e6s.js";import{S as wt,i as Ct,b as K,c as Ee,d as De,m as He,t as k,a as H,e as we,f as Ie,g as Ce}from"../chunks/index.B3JOrRZV.js";import{e as st}from"../chunks/each.D6YF6ztN.js";import{S as Mt,f as Be,B as jt,g as Pe,r as qe}from"../chunks/utils.RN7rXh_g.js";import{R as Ot,A as je}from"../chunks/Radio.DlU7Yl5D.js";function zt(e){let t,n,a,s,_,c=(e[0]?e[1][0]:e[1][1])+"",r,o,i,f;return{c(){t=C("div"),n=C("input"),s=O(),_=C("label"),r=Qe(c),this.h()},l(l){t=E(l,"DIV",{class:!0});var d=G(t);n=E(d,"INPUT",{type:!0,class:!0,id:!0}),s=z(d),_=E(d,"LABEL",{class:!0,for:!0});var h=G(_);r=We(h,c),h.forEach(b),d.forEach(b),this.h()},h(){w(n,"type","checkbox"),w(n,"class","btn-check"),w(n,"id",a="btn-check-outlined"+e[2]),w(_,"class","btn btn-outline-primary btn-sm"),w(_,"for",o="btn-check-outlined"+e[2]),w(t,"class","toggle")},m(l,d){S(l,t,d),y(t,n),n.checked=e[0],y(t,s),y(t,_),y(_,r),i||(f=[lt(n,"change",e[4]),lt(n,"change",e[5])],i=!0)},p(l,[d]){d&4&&a!==(a="btn-check-outlined"+l[2])&&w(n,"id",a),d&1&&(n.checked=l[0]),d&3&&c!==(c=(l[0]?l[1][0]:l[1][1])+"")&&yt(r,c),d&4&&o!==(o="btn-check-outlined"+l[2])&&w(_,"for",o)},i:Me,o:Me,d(l){l&&b(t),i=!1,Vt(f)}}}function qt(e,t,n){let{value:a}=t,{texts:s=["on","off"]}=t,_="";Tt(()=>{n(2,_=Math.random().toString(16).slice(2))});const c=St();function r(){a=this.checked,n(0,a)}const o=()=>{c("change")};return e.$$set=i=>{"value"in i&&n(0,a=i.value),"texts"in i&&n(1,s=i.texts)},[a,s,_,c,r,o]}class Et extends wt{constructor(t){super(),Ct(this,t,qt,zt,kt,{value:0,texts:1})}}const tt={"1.9.0":{capex_yearly:"cost_capex_yearly",opex_yearly:"cost_opex_yearly",cost_opex_total:"cost_opex_yearly_total",cost_opex:"cost_opex_variable",cost_capex_total:"cost_capex_yearly_total",cost_capex:"cost_capex_overnight"}};function At(e,t){let n=e.split("."),a=t.split(".");for(let s=0;s<3;s++){if(Number(n[s])<Number(a[s]))return!0;if(Number(n[s])>Number(a[s]))return!1}return!1}function Fe(e,t="0.0.0"){let n=null;console.log("Looking for",e,"at version",t);for(let s of Object.keys(tt))At(s,t)&&(n=s);console.log("taking",n);let a;return n===null||!(e in tt[n])?a=e:a=tt[n][e],console.log("real name",a),a}function ot(e,t,n){const a=e.slice();return a[67]=t[n],a[68]=t,a[69]=n,a}function at(e){let t,n,a='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCost" aria-expanded="false" aria-controls="collapseCost">Cost selection</button>',s,_,c,r,o,i,f='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">Technology and Carrier Selection</button>',l,d,h,v,A="Technologies (for Capex/Opex)",M,x,he,pe,L,ge,Q,T,j='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">Data Selection</button>',N,ne,me,te,ve,I,ke,se="Aggregation",$,re,_e,oe,m,q,ae,ce=st(Object.keys(e[22])),V=[];for(let p=0;p<ce.length;p+=1)V[p]=rt(ot(e,ce,p));const Se=p=>H(V[p],1,1,()=>{V[p]=null});let B=e[11].length>0&&ct(e),P=e[13].length>0&&ft(e),F=e[15].length>0&&_t(e),R=e[18].length>0&&dt(e),W=e[19].length>0&&ut(e);function Xe(p){e[49](p)}function Ze(p){e[50](p)}let Ae={};e[20]!==void 0&&(Ae.options=e[20]),e[21]!==void 0&&(Ae.selected_option=e[21]),re=new Ot({props:Ae}),U.push(()=>K(re,"options",Xe)),U.push(()=>K(re,"selected_option",Ze)),re.$on("selection-changed",e[51]);let X=e[21]==e[20][1]&&ht(e),Z=e[6]&&pt(e);return{c(){t=C("div"),n=C("h2"),n.innerHTML=a,s=O(),_=C("div"),c=C("div");for(let p=0;p<V.length;p+=1)V[p].c();r=O(),o=C("div"),i=C("h2"),i.innerHTML=f,l=O(),d=C("div"),h=C("div"),v=C("h3"),v.textContent=A,M=O(),B&&B.c(),x=O(),P&&P.c(),he=O(),F&&F.c(),pe=O(),R&&R.c(),L=O(),W&&W.c(),ge=O(),Q=C("div"),T=C("h2"),T.innerHTML=j,N=O(),ne=C("div"),me=C("div"),te=C("div"),ve=C("div"),I=C("div"),ke=C("h3"),ke.textContent=se,$=O(),Ee(re.$$.fragment),m=O(),X&&X.c(),q=O(),Z&&Z.c(),this.h()},l(p){t=E(p,"DIV",{class:!0});var D=G(t);n=E(D,"H2",{class:!0,"data-svelte-h":!0}),fe(n)!=="svelte-1y9fyqz"&&(n.innerHTML=a),s=z(D),_=E(D,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var ye=G(_);c=E(ye,"DIV",{class:!0});var le=G(c);for(let Ne=0;Ne<V.length;Ne+=1)V[Ne].l(le);le.forEach(b),ye.forEach(b),D.forEach(b),r=z(p),o=E(p,"DIV",{class:!0});var Te=G(o);i=E(Te,"H2",{class:!0,"data-svelte-h":!0}),fe(i)!=="svelte-c8inc9"&&(i.innerHTML=f),l=z(Te),d=E(Te,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var Ge=G(d);h=E(Ge,"DIV",{class:!0});var be=G(h);v=E(be,"H3",{"data-svelte-h":!0}),fe(v)!=="svelte-17gugf8"&&(v.textContent=A),M=z(be),B&&B.l(be),x=z(be),P&&P.l(be),he=z(be),F&&F.l(be),pe=z(be),R&&R.l(be),L=z(be),W&&W.l(be),be.forEach(b),Ge.forEach(b),Te.forEach(b),ge=z(p),Q=E(p,"DIV",{class:!0});var Oe=G(Q);T=E(Oe,"H2",{class:!0,"data-svelte-h":!0}),fe(T)!=="svelte-hz94lo"&&(T.innerHTML=j),N=z(Oe),ne=E(Oe,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var Ue=G(ne);me=E(Ue,"DIV",{class:!0});var Je=G(me);te=E(Je,"DIV",{class:!0});var Le=G(te);ve=E(Le,"DIV",{class:!0});var Ke=G(ve);I=E(Ke,"DIV",{class:!0});var ze=G(I);ke=E(ze,"H3",{"data-svelte-h":!0}),fe(ke)!=="svelte-126hufg"&&(ke.textContent=se),$=z(ze),De(re.$$.fragment,ze),ze.forEach(b),Ke.forEach(b),m=z(Le),X&&X.l(Le),q=z(Le),Z&&Z.l(Le),Le.forEach(b),Je.forEach(b),Ue.forEach(b),Oe.forEach(b),this.h()},h(){w(n,"class","accordion-header"),w(c,"class","accordion-body"),w(_,"id","collapseCost"),w(_,"class","accordion-collapse collapse"),w(_,"data-bs-parent","#accordionExample"),w(t,"class","accordion-item"),w(i,"class","accordion-header"),w(h,"class","accordion-body"),w(d,"id","collapseTwo"),w(d,"class","accordion-collapse collapse"),w(d,"data-bs-parent","#accordionExample"),w(o,"class","accordion-item"),w(T,"class","accordion-header"),w(I,"class","col-6"),w(ve,"class","row"),w(te,"class","accordion-body"),w(me,"class","accordion-body"),w(ne,"id","collapseThree"),w(ne,"class","accordion-collapse collapse"),w(ne,"data-bs-parent","#accordionExample"),w(Q,"class","accordion-item")},m(p,D){S(p,t,D),y(t,n),y(t,s),y(t,_),y(_,c);for(let ye=0;ye<V.length;ye+=1)V[ye]&&V[ye].m(c,null);S(p,r,D),S(p,o,D),y(o,i),y(o,l),y(o,d),y(d,h),y(h,v),y(h,M),B&&B.m(h,null),y(h,x),P&&P.m(h,null),y(h,he),F&&F.m(h,null),y(h,pe),R&&R.m(h,null),y(h,L),W&&W.m(h,null),S(p,ge,D),S(p,Q,D),y(Q,T),y(Q,N),y(Q,ne),y(ne,me),y(me,te),y(te,ve),y(ve,I),y(I,ke),y(I,$),He(re,I,null),y(te,m),X&&X.m(te,null),y(te,q),Z&&Z.m(te,null),ae=!0},p(p,D){if(D[0]&37748736){ce=st(Object.keys(p[22]));let le;for(le=0;le<ce.length;le+=1){const Te=ot(p,ce,le);V[le]?(V[le].p(Te,D),k(V[le],1)):(V[le]=rt(Te),V[le].c(),k(V[le],1),V[le].m(c,null))}for(Ce(),le=ce.length;le<V.length;le+=1)Se(le);we()}p[11].length>0?B?(B.p(p,D),D[0]&2048&&k(B,1)):(B=ct(p),B.c(),k(B,1),B.m(h,x)):B&&(Ce(),H(B,1,1,()=>{B=null}),we()),p[13].length>0?P?(P.p(p,D),D[0]&8192&&k(P,1)):(P=ft(p),P.c(),k(P,1),P.m(h,he)):P&&(Ce(),H(P,1,1,()=>{P=null}),we()),p[15].length>0?F?(F.p(p,D),D[0]&32768&&k(F,1)):(F=_t(p),F.c(),k(F,1),F.m(h,pe)):F&&(Ce(),H(F,1,1,()=>{F=null}),we()),p[18].length>0?R?(R.p(p,D),D[0]&262144&&k(R,1)):(R=dt(p),R.c(),k(R,1),R.m(h,L)):R&&(Ce(),H(R,1,1,()=>{R=null}),we()),p[19].length>0?W?(W.p(p,D),D[0]&524288&&k(W,1)):(W=ut(p),W.c(),k(W,1),W.m(h,null)):W&&(Ce(),H(W,1,1,()=>{W=null}),we());const ye={};!_e&&D[0]&1048576&&(_e=!0,ye.options=p[20],J(()=>_e=!1)),!oe&&D[0]&2097152&&(oe=!0,ye.selected_option=p[21],J(()=>oe=!1)),re.$set(ye),p[21]==p[20][1]?X?(X.p(p,D),D[0]&3145728&&k(X,1)):(X=ht(p),X.c(),k(X,1),X.m(te,q)):X&&(Ce(),H(X,1,1,()=>{X=null}),we()),p[6]?Z?(Z.p(p,D),D[0]&64&&k(Z,1)):(Z=pt(p),Z.c(),k(Z,1),Z.m(te,null)):Z&&(Ce(),H(Z,1,1,()=>{Z=null}),we())},i(p){if(!ae){for(let D=0;D<ce.length;D+=1)k(V[D]);k(B),k(P),k(F),k(R),k(W),k(re.$$.fragment,p),k(X),k(Z),ae=!0}},o(p){V=V.filter(Boolean);for(let D=0;D<V.length;D+=1)H(V[D]);H(B),H(P),H(F),H(R),H(W),H(re.$$.fragment,p),H(X),H(Z),ae=!1},d(p){p&&(b(t),b(r),b(o),b(ge),b(Q)),Lt(V,p),B&&B.d(),P&&P.d(),F&&F.d(),R&&R.d(),W&&W.d(),Ie(re),X&&X.d(),Z&&Z.d()}}}function it(e){let t,n,a,s;function _(r){e[33](r,e[67])}let c={};return e[22][e[67]].subdivision!==void 0&&(c.value=e[22][e[67]].subdivision),n=new Et({props:c}),U.push(()=>K(n,"value",_)),n.$on("change",e[25]),{c(){t=Qe(`Subdivision
											`),Ee(n.$$.fragment)},l(r){t=We(r,`Subdivision
											`),De(n.$$.fragment,r)},m(r,o){S(r,t,o),He(n,r,o),s=!0},p(r,o){e=r;const i={};!a&&o[0]&4194304&&(a=!0,i.value=e[22][e[67]].subdivision,J(()=>a=!1)),n.$set(i)},i(r){s||(k(n.$$.fragment,r),s=!0)},o(r){H(n.$$.fragment,r),s=!1},d(r){r&&b(t),Ie(n,r)}}}function rt(e){let t,n,a=e[22][e[67]].title+"",s,_,c,r,o,i,f,l;function d(A){e[32](A,e[67])}let h={};e[22][e[67]].show!==void 0&&(h.value=e[22][e[67]].show),r=new Et({props:h}),U.push(()=>K(r,"value",d)),r.$on("change",e[25]);let v=e[22][e[67]].show&&e[67]!="carbon_emission"&&it(e);return{c(){t=C("div"),n=C("h4"),s=Qe(a),_=Qe(" :"),c=O(),Ee(r.$$.fragment),i=O(),v&&v.c(),f=O(),this.h()},l(A){t=E(A,"DIV",{class:!0});var M=G(t);n=E(M,"H4",{});var x=G(n);s=We(x,a),_=We(x," :"),x.forEach(b),c=z(M),De(r.$$.fragment,M),i=z(M),v&&v.l(M),f=z(M),M.forEach(b),this.h()},h(){w(t,"class","d-flex")},m(A,M){S(A,t,M),y(t,n),y(n,s),y(n,_),y(t,c),He(r,t,null),y(t,i),v&&v.m(t,null),y(t,f),l=!0},p(A,M){e=A,(!l||M[0]&4194304)&&a!==(a=e[22][e[67]].title+"")&&yt(s,a);const x={};!o&&M[0]&4194304&&(o=!0,x.value=e[22][e[67]].show,J(()=>o=!1)),r.$set(x),e[22][e[67]].show&&e[67]!="carbon_emission"?v?(v.p(e,M),M[0]&4194304&&k(v,1)):(v=it(e),v.c(),k(v,1),v.m(t,f)):v&&(Ce(),H(v,1,1,()=>{v=null}),we())},i(A){l||(k(r.$$.fragment,A),k(v),l=!0)},o(A){H(r.$$.fragment,A),H(v),l=!1},d(A){A&&b(t),Ie(r),v&&v.d()}}}function ct(e){let t,n="Transport",a,s,_,c,r;function o(l){e[34](l)}function i(l){e[35](l)}let f={};return e[12]!==void 0&&(f.selected_elements=e[12]),e[11]!==void 0&&(f.elements=e[11]),s=new je({props:f}),U.push(()=>K(s,"selected_elements",o)),U.push(()=>K(s,"elements",i)),s.$on("selection-changed",e[36]),{c(){t=C("h4"),t.textContent=n,a=O(),Ee(s.$$.fragment)},l(l){t=E(l,"H4",{"data-svelte-h":!0}),fe(t)!=="svelte-1tmas69"&&(t.textContent=n),a=z(l),De(s.$$.fragment,l)},m(l,d){S(l,t,d),S(l,a,d),He(s,l,d),r=!0},p(l,d){const h={};!_&&d[0]&4096&&(_=!0,h.selected_elements=l[12],J(()=>_=!1)),!c&&d[0]&2048&&(c=!0,h.elements=l[11],J(()=>c=!1)),s.$set(h)},i(l){r||(k(s.$$.fragment,l),r=!0)},o(l){H(s.$$.fragment,l),r=!1},d(l){l&&(b(t),b(a)),Ie(s,l)}}}function ft(e){let t,n="Storage",a,s,_,c,r;function o(l){e[37](l)}function i(l){e[38](l)}let f={};return e[14]!==void 0&&(f.selected_elements=e[14]),e[13]!==void 0&&(f.elements=e[13]),s=new je({props:f}),U.push(()=>K(s,"selected_elements",o)),U.push(()=>K(s,"elements",i)),s.$on("selection-changed",e[39]),{c(){t=C("h4"),t.textContent=n,a=O(),Ee(s.$$.fragment)},l(l){t=E(l,"H4",{"data-svelte-h":!0}),fe(t)!=="svelte-hjv5od"&&(t.textContent=n),a=z(l),De(s.$$.fragment,l)},m(l,d){S(l,t,d),S(l,a,d),He(s,l,d),r=!0},p(l,d){const h={};!_&&d[0]&16384&&(_=!0,h.selected_elements=l[14],J(()=>_=!1)),!c&&d[0]&8192&&(c=!0,h.elements=l[13],J(()=>c=!1)),s.$set(h)},i(l){r||(k(s.$$.fragment,l),r=!0)},o(l){H(s.$$.fragment,l),r=!1},d(l){l&&(b(t),b(a)),Ie(s,l)}}}function _t(e){let t,n="Conversion",a,s,_,c,r;function o(l){e[40](l)}function i(l){e[41](l)}let f={};return e[16]!==void 0&&(f.selected_elements=e[16]),e[15]!==void 0&&(f.elements=e[15]),s=new je({props:f}),U.push(()=>K(s,"selected_elements",o)),U.push(()=>K(s,"elements",i)),s.$on("selection-changed",e[42]),{c(){t=C("h4"),t.textContent=n,a=O(),Ee(s.$$.fragment)},l(l){t=E(l,"H4",{"data-svelte-h":!0}),fe(t)!=="svelte-ad5jza"&&(t.textContent=n),a=z(l),De(s.$$.fragment,l)},m(l,d){S(l,t,d),S(l,a,d),He(s,l,d),r=!0},p(l,d){const h={};!_&&d[0]&65536&&(_=!0,h.selected_elements=l[16],J(()=>_=!1)),!c&&d[0]&32768&&(c=!0,h.elements=l[15],J(()=>c=!1)),s.$set(h)},i(l){r||(k(s.$$.fragment,l),r=!0)},o(l){H(s.$$.fragment,l),r=!1},d(l){l&&(b(t),b(a)),Ie(s,l)}}}function dt(e){let t,n="Cost of Carrier",a,s,_,c,r;function o(l){e[43](l)}function i(l){e[44](l)}let f={};return e[7]!==void 0&&(f.selected_elements=e[7]),e[18]!==void 0&&(f.elements=e[18]),s=new je({props:f}),U.push(()=>K(s,"selected_elements",o)),U.push(()=>K(s,"elements",i)),s.$on("selection-changed",e[45]),{c(){t=C("h3"),t.textContent=n,a=O(),Ee(s.$$.fragment)},l(l){t=E(l,"H3",{"data-svelte-h":!0}),fe(t)!=="svelte-bhb6z8"&&(t.textContent=n),a=z(l),De(s.$$.fragment,l)},m(l,d){S(l,t,d),S(l,a,d),He(s,l,d),r=!0},p(l,d){const h={};!_&&d[0]&128&&(_=!0,h.selected_elements=l[7],J(()=>_=!1)),!c&&d[0]&262144&&(c=!0,h.elements=l[18],J(()=>c=!1)),s.$set(h)},i(l){r||(k(s.$$.fragment,l),r=!0)},o(l){H(s.$$.fragment,l),r=!1},d(l){l&&(b(t),b(a)),Ie(s,l)}}}function ut(e){let t,n="Shed Demand",a,s,_,c,r;function o(l){e[46](l)}function i(l){e[47](l)}let f={};return e[8]!==void 0&&(f.selected_elements=e[8]),e[19]!==void 0&&(f.elements=e[19]),s=new je({props:f}),U.push(()=>K(s,"selected_elements",o)),U.push(()=>K(s,"elements",i)),s.$on("selection-changed",e[48]),{c(){t=C("h3"),t.textContent=n,a=O(),Ee(s.$$.fragment)},l(l){t=E(l,"H3",{"data-svelte-h":!0}),fe(t)!=="svelte-13kd4c5"&&(t.textContent=n),a=z(l),De(s.$$.fragment,l)},m(l,d){S(l,t,d),S(l,a,d),He(s,l,d),r=!0},p(l,d){const h={};!_&&d[0]&256&&(_=!0,h.selected_elements=l[8],J(()=>_=!1)),!c&&d[0]&524288&&(c=!0,h.elements=l[19],J(()=>c=!1)),s.$set(h)},i(l){r||(k(s.$$.fragment,l),r=!0)},o(l){H(s.$$.fragment,l),r=!1},d(l){l&&(b(t),b(a)),Ie(s,l)}}}function ht(e){let t,n="Location",a,s,_,c;function r(i){e[52](i)}let o={elements:e[3]};return e[4]!==void 0&&(o.selected_elements=e[4]),s=new je({props:o}),U.push(()=>K(s,"selected_elements",r)),s.$on("selection-changed",e[53]),{c(){t=C("h3"),t.textContent=n,a=O(),Ee(s.$$.fragment)},l(i){t=E(i,"H3",{"data-svelte-h":!0}),fe(t)!=="svelte-15gguv3"&&(t.textContent=n),a=z(i),De(s.$$.fragment,i)},m(i,f){S(i,t,f),S(i,a,f),He(s,i,f),c=!0},p(i,f){const l={};f[0]&8&&(l.elements=i[3]),!_&&f[0]&16&&(_=!0,l.selected_elements=i[4],J(()=>_=!1)),s.$set(l)},i(i){c||(k(s.$$.fragment,i),c=!0)},o(i){H(s.$$.fragment,i),c=!1},d(i){i&&(b(t),b(a)),Ie(s,i)}}}function pt(e){let t,n="Year",a,s,_,c;function r(i){e[54](i)}let o={elements:e[2]};return e[6]!==void 0&&(o.selected_elements=e[6]),s=new je({props:o}),U.push(()=>K(s,"selected_elements",r)),s.$on("selection-changed",e[55]),{c(){t=C("h3"),t.textContent=n,a=O(),Ee(s.$$.fragment)},l(i){t=E(i,"H3",{"data-svelte-h":!0}),fe(t)!=="svelte-r9e7qt"&&(t.textContent=n),a=z(i),De(s.$$.fragment,i)},m(i,f){S(i,t,f),S(i,a,f),He(s,i,f),c=!0},p(i,f){const l={};f[0]&4&&(l.elements=i[2]),!_&&f[0]&64&&(_=!0,l.selected_elements=i[6],J(()=>_=!1)),s.$set(l)},i(i){c||(k(s.$$.fragment,i),c=!0)},o(i){H(s.$$.fragment,i),c=!1},d(i){i&&(b(t),b(a)),Ie(s,i)}}}function Nt(e){let t,n,a,s;const _=[Pt,Bt],c=[];function r(o,i){return o[24].data.datasets.length==0||o[24].data.datasets[0].data.length==0?0:1}return t=r(e),n=c[t]=_[t](e),{c(){n.c(),a=nt()},l(o){n.l(o),a=nt()},m(o,i){c[t].m(o,i),S(o,a,i),s=!0},p(o,i){let f=t;t=r(o),t===f?c[t].p(o,i):(Ce(),H(c[f],1,1,()=>{c[f]=null}),we(),n=c[t],n?n.p(o,i):(n=c[t]=_[t](o),n.c()),k(n,1),n.m(a.parentNode,a))},i(o){s||(k(n),s=!0)},o(o){H(n),s=!1},d(o){o&&b(a),c[t].d(o)}}}function $t(e){let t,n='<div class="spinner-border center" role="status"><span class="visually-hidden">Loading...</span></div>';return{c(){t=C("div"),t.innerHTML=n,this.h()},l(a){t=E(a,"DIV",{class:!0,"data-svelte-h":!0}),fe(t)!=="svelte-1a5ljpq"&&(t.innerHTML=n),this.h()},h(){w(t,"class","text-center")},m(a,s){S(a,t,s)},p:Me,i:Me,o:Me,d(a){a&&b(t)}}}function Bt(e){let t,n,a,s,_;function c(f){e[56](f)}function r(f){e[57](f)}function o(f){e[58](f)}let i={};return e[24]!==void 0&&(i.config=e[24]),e[5].detail.system.reference_year!==void 0&&(i.year_offset=e[5].detail.system.reference_year),e[23]!==void 0&&(i.plot_name=e[23]),t=new jt({props:i}),U.push(()=>K(t,"config",c)),U.push(()=>K(t,"year_offset",r)),U.push(()=>K(t,"plot_name",o)),{c(){Ee(t.$$.fragment)},l(f){De(t.$$.fragment,f)},m(f,l){He(t,f,l),_=!0},p(f,l){const d={};!n&&l[0]&16777216&&(n=!0,d.config=f[24],J(()=>n=!1)),!a&&l[0]&32&&(a=!0,d.year_offset=f[5].detail.system.reference_year,J(()=>a=!1)),!s&&l[0]&8388608&&(s=!0,d.plot_name=f[23],J(()=>s=!1)),t.$set(d)},i(f){_||(k(t.$$.fragment,f),_=!0)},o(f){H(t.$$.fragment,f),_=!1},d(f){Ie(t,f)}}}function Pt(e){let t,n="No data with this selection.";return{c(){t=C("div"),t.textContent=n,this.h()},l(a){t=E(a,"DIV",{class:!0,"data-svelte-h":!0}),fe(t)!=="svelte-1doxial"&&(t.textContent=n),this.h()},h(){w(t,"class","text-center")},m(a,s){S(a,t,s)},p:Me,i:Me,o:Me,d(a){a&&b(t)}}}function Ft(e){let t,n="Costs",a,s,_,c,r,o,i,f='<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">Solution Selection</button>',l,d,h,v,A,M,x,he,pe,L,ge,Q,T,j,N,ne;function me(m){e[27](m)}function te(m){e[28](m)}function ve(m){e[29](m)}function I(m){e[30](m)}function ke(m){e[31](m)}let se={enabled:!e[9]&&!e[10]};e[0]!==void 0&&(se.carriers=e[0]),e[1]!==void 0&&(se.nodes=e[1]),e[2]!==void 0&&(se.years=e[2]),e[5]!==void 0&&(se.selected_solution=e[5]),e[9]!==void 0&&(se.loading=e[9]),v=new Mt({props:se}),U.push(()=>K(v,"carriers",me)),U.push(()=>K(v,"nodes",te)),U.push(()=>K(v,"years",ve)),U.push(()=>K(v,"selected_solution",I)),U.push(()=>K(v,"loading",ke)),v.$on("solution_selected",e[26]);let $=!e[10]&&!e[9]&&e[17]&&e[5]!=null&&at(e);const re=[$t,Nt],_e=[];function oe(m,q){return m[9]||m[10]?0:m[5]!=null?1:-1}return~(j=oe(e))&&(N=_e[j]=re[j](e)),{c(){t=C("h2"),t.textContent=n,a=O(),s=C("div"),_=C("div"),c=C("div"),r=C("div"),o=C("div"),i=C("h2"),i.innerHTML=f,l=O(),d=C("div"),h=C("div"),Ee(v.$$.fragment),L=O(),$&&$.c(),ge=O(),Q=C("div"),T=C("div"),N&&N.c(),this.h()},l(m){t=E(m,"H2",{"data-svelte-h":!0}),fe(t)!=="svelte-lt28jw"&&(t.textContent=n),a=z(m),s=E(m,"DIV",{class:!0});var q=G(s);_=E(q,"DIV",{class:!0,style:!0});var ae=G(_);c=E(ae,"DIV",{class:!0,style:!0});var ce=G(c);r=E(ce,"DIV",{class:!0,id:!0});var V=G(r);o=E(V,"DIV",{class:!0});var Se=G(o);i=E(Se,"H2",{class:!0,"data-svelte-h":!0}),fe(i)!=="svelte-64kjki"&&(i.innerHTML=f),l=z(Se),d=E(Se,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var B=G(d);h=E(B,"DIV",{class:!0});var P=G(h);De(v.$$.fragment,P),P.forEach(b),B.forEach(b),Se.forEach(b),L=z(V),$&&$.l(V),V.forEach(b),ce.forEach(b),ae.forEach(b),q.forEach(b),ge=z(m),Q=E(m,"DIV",{class:!0});var F=G(Q);T=E(F,"DIV",{class:!0,style:!0});var R=G(T);N&&N.l(R),R.forEach(b),F.forEach(b),this.h()},h(){w(i,"class","accordion-header"),w(h,"class","accordion-body"),w(d,"id","collapseOne"),w(d,"class","accordion-collapse collapse show"),w(d,"data-bs-parent","#accordionExample"),w(o,"class","accordion-item solution-selection"),w(r,"class","accordion"),w(r,"id","accordionExample"),w(c,"class","filters"),$e(c,"position","absolute"),$e(c,"width","100%"),w(_,"class","col position-relative"),$e(_,"z-index","1"),$e(_,"position","relative"),w(s,"class","row"),w(T,"class","col"),$e(T,"margin-top","400px"),w(Q,"class","row")},m(m,q){S(m,t,q),S(m,a,q),S(m,s,q),y(s,_),y(_,c),y(c,r),y(r,o),y(o,i),y(o,l),y(o,d),y(d,h),He(v,h,null),y(r,L),$&&$.m(r,null),S(m,ge,q),S(m,Q,q),y(Q,T),~j&&_e[j].m(T,null),ne=!0},p(m,q){const ae={};q[0]&1536&&(ae.enabled=!m[9]&&!m[10]),!A&&q[0]&1&&(A=!0,ae.carriers=m[0],J(()=>A=!1)),!M&&q[0]&2&&(M=!0,ae.nodes=m[1],J(()=>M=!1)),!x&&q[0]&4&&(x=!0,ae.years=m[2],J(()=>x=!1)),!he&&q[0]&32&&(he=!0,ae.selected_solution=m[5],J(()=>he=!1)),!pe&&q[0]&512&&(pe=!0,ae.loading=m[9],J(()=>pe=!1)),v.$set(ae),!m[10]&&!m[9]&&m[17]&&m[5]!=null?$?($.p(m,q),q[0]&132640&&k($,1)):($=at(m),$.c(),k($,1),$.m(r,null)):$&&(Ce(),H($,1,1,()=>{$=null}),we());let ce=j;j=oe(m),j===ce?~j&&_e[j].p(m,q):(N&&(Ce(),H(_e[ce],1,1,()=>{_e[ce]=null}),we()),~j?(N=_e[j],N?N.p(m,q):(N=_e[j]=re[j](m),N.c()),k(N,1),N.m(T,null)):N=null)},i(m){ne||(k(v.$$.fragment,m),k($),k(N),ne=!0)},o(m){H(v.$$.fragment,m),H($),H(N),ne=!1},d(m){m&&(b(t),b(a),b(s),b(ge),b(Q)),Ie(v),$&&$.d(),~j&&_e[j].d()}}}let Rt="not_normalized",Y="Techology / Carrier";const Re=" (Capex)",Ye=" (Opex)",mt="Capex",bt="Opex",gt="Carrier",vt="Shed Demand";function Yt(e,t,n){let a=[],s=[],_=[],c=[],r=[],o=null,i=[],f=[],l=[],d=!1,h=!1,v=[],A=[],M=[],x=[],he=[],pe=[],L,ge,Q,T,j,N,ne=[],me=[],te=[Y,"Location"],ve=te[1],I={capex:{title:"Capex",show:!0,subdivision:!1},opex:{title:"Opex",show:!0,subdivision:!1},carrier:{title:"Carrier",show:!0,subdivision:!1},shed_demand:{title:"Shed Demand",show:!0,subdivision:!1},carbon_emission:{title:"Carbon Emissions",show:!0,subdivision:!1}},ke="plot",se={type:"line",data:{datasets:[]},options:{responsive:!0,scales:{x:{stacked:!0,title:{display:!0,text:"Year"}},y:{stacked:!0,title:{display:!0,text:"Costs ["+_e()+"]"}}}}};async function $(){if(o!=null){n(10,h=!0),await et(),n(17,T=await Pe(o.solution_name,Fe("capex_yearly",o.version),o.scenario_name,o.detail.system.reference_year,o.detail.system.interval_between_years)),j=await Pe(o.solution_name,Fe("opex_yearly",o.version),o.scenario_name,o.detail.system.reference_year,o.detail.system.interval_between_years),ge=await Pe(o.solution_name,Fe("cost_carbon_emissions_total",o.version),o.scenario_name,o.detail.system.reference_year,o.detail.system.interval_between_years),Q=await Pe(o.solution_name,Fe("cost_carrier",o.version),o.scenario_name,o.detail.system.reference_year,o.detail.system.interval_between_years),N=await Pe(o.solution_name,Fe("cost_shed_demand",o.version),o.scenario_name,o.detail.system.reference_year,o.detail.system.interval_between_years),qe(Q.data,"node","location"),qe(N.data,"node","location"),qe(j.data,"technology",Y),qe(T.data,"technology",Y),qe(Q.data,"carrier",Y),qe(N.data,"carrier",Y);for(let u in T.data.data)n(17,T.data.data[u][Y]=T.data.data[u][Y]+Re,T);for(let u in j.data.data)j.data.data[u][Y]=j.data.data[u][Y]+Ye;n(3,c=Object.keys(o.detail.edges).concat(o.detail.system.set_nodes)),n(10,h=!1)}}function re(u){n(10,h=!0),L=new Array;let ie=structuredClone(Q.data);ie.data=ie.data.filter(g=>f.includes(g[Y]));let de=structuredClone(N.data);if(de.data=de.data.filter(g=>l.includes(g[Y])),I.capex.show)if(I.capex.subdivision)L=L.concat(T.data.data);else{let g=Be(T.data.data,{location:r},{[Y]:u},[],!1);for(let ee in g)g[ee].data.location=g[ee].label,g[ee].data[Y]=mt,L.push(g[ee].data)}if(I.opex.show)if(I.opex.subdivision)L=L.concat(j.data.data);else{let g=Be(j.data.data,{location:r},{[Y]:u},[],!1);for(let ee in g)g[ee].data.location=g[ee].label,g[ee].data[Y]=bt,L.push(g[ee].data)}if(I.carrier.show)if(I.carrier.subdivision)L=L.concat(ie.data);else{let g=Be(ie.data,{location:r},{[Y]:u},[],!1);for(let ee in g)g[ee].data.location=g[ee].label,g[ee].data[Y]=gt,L.push(g[ee].data)}if(I.shed_demand.show)if(I.shed_demand.subdivision)L=L.concat(de.data);else{let g=Be(de.data,{location:r},{[Y]:u},[],!1);for(let ee in g)g[ee].data.location=g[ee].label,g[ee].data[Y]=vt,L.push(g[ee].data)}if(L.length==0){L=void 0,n(10,h=!1);return}let ue=new Set;L=L.filter(g=>g!=null);for(const g of L)ue.add(g.location);n(3,c=Array.from(ue)),n(10,h=!1)}function _e(){return!T||T.unit===null?"":T.unit.data[0][0]}function oe(){n(10,h=!0);let u={},ie={},de=[];for(const Ve of pe)de.push(Ve+Re),de.push(Ve+Ye);for(const Ve of x)de.push(Ve+Re),de.push(Ve+Ye);for(const Ve of A)de.push(Ve+Re),de.push(Ve+Ye);let ue=[...de,...f,...l];re(ue),I.capex.subdivision||ue.push(mt),I.opex.subdivision||ue.push(bt),I.carrier.subdivision||ue.push(gt),I.shed_demand.subdivision||ue.push(vt),ve==te[0]?(u.location=c,ie[Y]=ue):(u[Y]=ue,ie.location=r);let g=_.filter(Ve=>!i.includes(Ve)),ee=Rt=="normalized",xe=[];L&&(xe=Be(L,u,ie,g,ee)),ge.data.data.length>0&&I.carbon_emission.show&&xe.push({label:"Total Carbon Costs",data:ge.data.data[0],type:"bar"}),et().then(()=>{n(24,se.data={datasets:xe},se),n(24,se.options.scales.y.title.text="Costs ["+_e()+"]",se),n(10,h=!1)})}async function m(){if(o==null)return;await $(),await et(),n(10,h=!0);let u=new Set;for(const g of T.data.data)u.add(g[Y].replace(Re,""));for(const g of j.data.data)u.add(g[Y].replace(Ye,""));n(11,v=o.detail.system.set_transport_technologies.filter(g=>u.has(g))),n(15,he=o.detail.system.set_conversion_technologies.filter(g=>u.has(g))),n(13,M=o.detail.system.set_storage_technologies.filter(g=>u.has(g))),n(12,A=v),n(16,pe=he),n(14,x=M);let ie=new Set;for(const g of Q.data.data)ie.add(g[Y]);n(0,a=o.detail.system.set_carriers),n(18,ne=o.detail.carriers_import.concat(o.detail.carriers_export).filter(g=>ie.has(g))),n(7,f=ne);let de=new Set;for(const g of N.data.data)de.add(g[Y]);n(19,me=o.detail.carriers_demand.filter(g=>de.has(g))),n(8,l=me),n(1,s=o.detail.system.set_nodes),n(6,i=_),n(4,r=c),oe(),n(10,h=!1);let ue=o.solution_name.split(".");n(23,ke=[ue[(ue==null?void 0:ue.length)-1],o==null?void 0:o.scenario_name,"costs"].join("_"))}function q(u){a=u,n(0,a)}function ae(u){s=u,n(1,s)}function ce(u){_=u,n(2,_)}function V(u){o=u,n(5,o)}function Se(u){d=u,n(9,d)}function B(u,ie){e.$$.not_equal(I[ie].show,u)&&(I[ie].show=u,n(22,I))}function P(u,ie){e.$$.not_equal(I[ie].subdivision,u)&&(I[ie].subdivision=u,n(22,I))}function F(u){A=u,n(12,A)}function R(u){v=u,n(11,v)}const W=()=>{oe()};function Xe(u){x=u,n(14,x)}function Ze(u){M=u,n(13,M)}const Ae=()=>{oe()};function X(u){pe=u,n(16,pe)}function Z(u){he=u,n(15,he)}const p=()=>{oe()};function D(u){f=u,n(7,f)}function ye(u){ne=u,n(18,ne)}const le=()=>{oe()};function Te(u){l=u,n(8,l)}function Ge(u){me=u,n(19,me)}const be=()=>{oe()};function Oe(u){te=u,n(20,te)}function Ue(u){ve=u,n(21,ve)}const Je=u=>{oe()};function Le(u){r=u,n(4,r)}const Ke=u=>{oe()};function ze(u){i=u,n(6,i)}const Ne=u=>{oe()};function Dt(u){se=u,n(24,se)}function Ht(u){e.$$.not_equal(o.detail.system.reference_year,u)&&(o.detail.system.reference_year=u,n(5,o))}function It(u){ke=u,n(23,ke)}return[a,s,_,c,r,o,i,f,l,d,h,v,A,M,x,he,pe,T,ne,me,te,ve,I,ke,se,oe,m,q,ae,ce,V,Se,B,P,F,R,W,Xe,Ze,Ae,X,Z,p,D,ye,le,Te,Ge,be,Oe,Ue,Je,Le,Ke,ze,Ne,Dt,Ht,It]}class Wt extends wt{constructor(t){super(),Ct(this,t,Yt,Ft,kt,{},null,[-1,-1,-1])}}export{Wt as component};
