{% load helpers %}
{% load perms %}
{% load i18n %}

<div class="card">

  <h2 class="card-header"> {% trans "Sizing" %}

    <div class="card-actions">
      {% if not object.id and request.user|can_add:object %}
      <a href="{% url 'plugins:sop_infra:sizing_add' pk=site.id %}" class="btn btn-ghost-primary btn-sm">
        <i class="mdi mdi-plus-thick" aria-hidden="true"></i>Add Sizing
      </a>
      {% elif object.id and request.user|can_change:object %}
      <a href="{% url 'plugins:sop_infra:sizing_edit' pk=object.id %}" class="btn btn-ghost-primary btn-sm">
        <i class="mdi mdi-pencil" aria-hidden="true"></i>Edit Sizing
      </a>
      {% endif %}
    </div>

  </h2>

  {% if request.user|can_view:object %}
  <table class="table table-hover attr-table">

    <ul class="list-group list-group-flush">

      {% include 'sop_infra/tools/display.html' with name="AD direct. users" var=object.ad_direct_users %}

      {% include 'sop_infra/tools/display.html' with name="AD cumul. users" var=object.ad_cumulative_users %}

      {% include 'sop_infra/tools/display.html' with name="EST cumul. users" var=object.est_cumulative_users %}

      {% include 'sop_infra/tools/display.html' with name="Site user count" var=object.site_user_count %}
      
      {% include 'sop_infra/tools/display.html' with name="WAN users" var=object.wan_computed_users %}

      {% include 'sop_infra/tools/display.html' with name="Reco. MX Model" var=object.site_mx_model %}

      <!--_____________
        add Mbps format
      -->
      {% if object.pk %}
        <a href="{% url object|viewname:"detail" pk=object.id %}"
           class="list-group-item list-group-item-action d-flex justify-content-between">
      {% else %}
        <a class="list-group-item list-group-item-action d-flex justify-content-between">
      {% endif %}
        Reco. BW (Mbps)
        <span>{{object.wan_reco_bw|placeholder}}{% if object.wan_reco_bw %} (Mbps){% endif %}
        </a>

    </ul>

  </table>
  {% endif %}

</div>

