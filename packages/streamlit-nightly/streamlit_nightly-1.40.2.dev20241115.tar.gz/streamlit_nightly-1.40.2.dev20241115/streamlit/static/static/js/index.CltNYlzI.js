import{r as s,I as U,bV as T,a4 as k,j as l,aX as A,b8 as L,aY as P,aH as B,aZ as D}from"./index.BAAooOnj.js";import{u as j}from"./uniqueId.DddRNlb8.js";import{u as _,a as K,b as O}from"./useOnInputChange.DvN2d7Gr.js";import{I as $}from"./InputInstructions.D_FwW2KI.js";import{a as q}from"./useBasicWidgetState.HfBMIxUW.js";import{T as G}from"./textarea.BVJQ37xb.js";import"./inputUtils.CQWz5UKz.js";import"./FormClearHelper.Cgm_WGAf.js";import"./base-input.DkA5nUKm.js";const W=(a,t)=>a.getStringValue(t)??t.default??null,N=a=>a.default??null,X=a=>a.value??null,Y=(a,t,o,u)=>{t.setStringValue(a,o.value,{fromUi:o.fromUi},u)},Z=({disabled:a,element:t,widgetMgr:o,fragmentId:u,width:h})=>{var x;const g=s.useRef(j("text_area_")).current,[r,n]=s.useState(!1),[S,b]=s.useState(!1),[i,d]=s.useState(W(o,t)??null),I=s.useCallback(()=>{d(t.default??null),n(!0)},[t]),[y,c]=q({getStateFromWidgetMgr:W,getDefaultStateFromProto:N,getCurrStateFromProto:X,updateWidgetMgrState:Y,element:t,widgetMgr:o,fragmentId:u,onFormCleared:I});_(y,i,d,r);const e=U(),p=s.useCallback(()=>{n(!1),c({value:i,fromUi:!0})},[i,c]),V=s.useCallback(()=>{r&&p(),b(!1)},[r,p]),C=s.useCallback(()=>{b(!0)},[]),F=K({formId:t.formId,maxChars:t.maxChars,setDirty:n,setUiValue:d,setValueWithSource:c}),v=O(t.formId,p,r,o,u,!0),E={width:h},{height:f,placeholder:H,formId:m}=t,z=T({formId:m})?o.allowFormEnterToSubmit(m):r,R=S&&h>e.breakpoints.hideWidgetDetails;return k("div",{className:"stTextArea","data-testid":"stTextArea",style:E,children:[l(D,{label:t.label,disabled:a,labelVisibility:A((x=t.labelVisibility)==null?void 0:x.value),htmlFor:g,children:t.help&&l(L,{children:l(P,{content:t.help,placement:B.TOP_RIGHT})})}),l(G,{value:i??"",placeholder:H,onBlur:V,onFocus:C,onChange:F,onKeyDown:v,"aria-label":t.label,disabled:a,id:g,overrides:{Input:{style:{lineHeight:e.lineHeights.inputWidget,height:f?`${f}px`:"",minHeight:e.sizes.largestElementHeight,resize:"vertical","::placeholder":{opacity:"0.7"},paddingRight:e.spacing.lg,paddingLeft:e.spacing.lg,paddingBottom:e.spacing.lg,paddingTop:e.spacing.lg}},Root:{props:{"data-testid":"stTextAreaRootElement"},style:{borderLeftWidth:e.sizes.borderWidth,borderRightWidth:e.sizes.borderWidth,borderTopWidth:e.sizes.borderWidth,borderBottomWidth:e.sizes.borderWidth}}}}),R&&l($,{dirty:r,value:i??"",maxLength:t.maxChars,type:"multiline",inForm:T({formId:m}),allowEnterToSubmit:z})]})},rt=s.memo(Z);export{rt as default};
//# sourceMappingURL=index.CltNYlzI.js.map
