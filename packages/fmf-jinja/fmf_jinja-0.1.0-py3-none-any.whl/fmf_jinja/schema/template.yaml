$schema: https://json-schema.org/draft/2020-12/schema
$id: /template
title: Template generator inputs
description: |
  This describes the template folders that need to be generated by either copying or rendering using jinja

oneOf:
  - $ref: "#/$defs/path"
  - type: object
    properties:
      path: { $ref: "#/$defs/path" }
      exclude: { $ref: "#/$defs/exclude" }
    required: [ "path" ]
    additionalProperties: false

$defs:
  path:
    type: string
    oneOf:
      - description: |
          Path to the templated file/folder relative to the fmf root
        pattern: '^/.*$'
      - description: |
          Path to the templated file/folder relative to the current fmf path
        pattern: '^[^/].*$'
  exclude:
    type: array
    description: |
      Paths to exclude from being copied or rendered. Paths are treated the same as `path` key
    items:
      $ref: "#/$defs/path"
