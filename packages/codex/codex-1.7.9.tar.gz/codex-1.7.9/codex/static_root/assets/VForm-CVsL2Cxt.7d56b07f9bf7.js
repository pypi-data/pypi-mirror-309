import{_ as h,j as n,k as a,l as S,F as k,v as C,x as p,a as v,h as g,A as V,B as b,E as _,g as $,r as B,u as R,p as E,J as P}from"./main-B0XsokNO.js";import{h as D}from"./VDialog-Z7zDn7KN.js";import{r as q,s as A}from"./VSelectionControl-dirzqbsX.js";import{f as N}from"./forwardRefs--sLajfbv.js";const T={name:"SubmitFooter",components:{ConfirmFooter:D},props:{verb:{type:String,required:!0},table:{type:String,required:!0},label:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["cancel","submit"],computed:{..._(b,{errors:e=>e.form.errors,success:e=>e.form.success}),confirmText(){const e=this.label||this.table;return`${this.verb} ${e}`}},beforeMount(){this.clearErrors()},methods:{...V(b,["clearErrors"])}},j={key:0,class:"errors"},w={key:1,class:"success"},x={key:2};function I(e,s,m,d,l,i){const u=g("ConfirmFooter");return n(),a("footer",null,[S("div",null,[e.errors&&e.errors.length>0?(n(),a("small",j,[(n(!0),a(k,null,C(e.errors,(c,t)=>(n(),a("div",{key:t},p(c),1))),128))])):e.success?(n(),a("small",w,p(e.success),1)):(n(),a("small",x,"Â "))]),v(u,{"confirm-text":i.confirmText,disabled:m.disabled,onConfirm:s[0]||(s[0]=c=>e.$emit("submit")),onCancel:s[1]||(s[1]=c=>e.$emit("cancel"))},null,8,["confirm-text","disabled"])])}const H=h(T,[["render",I],["__scopeId","data-v-d960409d"]]),J=E({...P(),...A()},"VForm"),K=$()({name:"VForm",props:J(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,s){let{slots:m,emit:d}=s;const l=q(e),i=B();function u(t){t.preventDefault(),l.reset()}function c(t){const o=t,r=l.validate();o.then=r.then.bind(r),o.catch=r.catch.bind(r),o.finally=r.finally.bind(r),d("submit",o),o.defaultPrevented||r.then(y=>{var f;let{valid:F}=y;F&&((f=i.value)==null||f.submit())}),o.preventDefault()}return R(()=>{var t;return v("form",{ref:i,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:u,onSubmit:c},[(t=m.default)==null?void 0:t.call(m,l)])}),N(l,i)}});export{H as S,K as V};
