import{E as h,B as p,A as S,_ as k,k as C,l as n,n as a,q as g,F as V,y as _,z as b,a as v,p as $,J as B,g as R,r as E,u as P}from"./main-BK1Y9SuN.js";import{h as q}from"./VDialog-OMVMX5uI.js";import{r as D,s as A}from"./VSelectionControl-BDXa3gVL.js";import{f as N}from"./forwardRefs-CIB4pjXm.js";const T={name:"SubmitFooter",components:{ConfirmFooter:q},props:{verb:{type:String,required:!0},table:{type:String,required:!0},label:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["cancel","submit"],computed:{...h(p,{errors:e=>e.form.errors,success:e=>e.form.success}),confirmText(){const e=this.label||this.table;return`${this.verb} ${e}`}},beforeMount(){this.clearErrors()},methods:{...S(p,["clearErrors"])}},w={key:0,class:"errors"},z={key:1,class:"success"},I={key:2};function J(e,s,m,d,l,i){const u=C("ConfirmFooter");return n(),a("footer",null,[g("div",null,[e.errors&&e.errors.length>0?(n(),a("small",w,[(n(!0),a(V,null,_(e.errors,(c,t)=>(n(),a("div",{key:t},b(c),1))),128))])):e.success?(n(),a("small",z,b(e.success),1)):(n(),a("small",I,"Â "))]),v(u,{"confirm-text":i.confirmText,disabled:m.disabled,onConfirm:s[0]||(s[0]=c=>e.$emit("submit")),onCancel:s[1]||(s[1]=c=>e.$emit("cancel"))},null,8,["confirm-text","disabled"])])}const H=k(T,[["render",J],["__scopeId","data-v-d960409d"]]),L=$({...B(),...D()},"VForm"),K=R()({name:"VForm",props:L(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,s){let{slots:m,emit:d}=s;const l=A(e),i=E();function u(t){t.preventDefault(),l.reset()}function c(t){const o=t,r=l.validate();o.then=r.then.bind(r),o.catch=r.catch.bind(r),o.finally=r.finally.bind(r),d("submit",o),o.defaultPrevented||r.then(y=>{var f;let{valid:F}=y;F&&((f=i.value)==null||f.submit())}),o.preventDefault()}return P(()=>{var t;return v("form",{ref:i,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:u,onSubmit:c},[(t=m.default)==null?void 0:t.call(m,l)])}),N(l,i)}});export{H as S,K as V};
